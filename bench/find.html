<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>
  <script src="https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <style>
    *{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body{
    width: 100%;
    height: 100%;
    font-family:Helvetica Neue,metric,sans-serif;
    text-rendering: optimizeLegibility;
}

.center{
    width: 500px;
    margin:auto
}

text{
    font-family: metric,sans-serif;
}

.ml {
    text-align: left
}

svg {
    overflow: hidden;
    margin: auto
}

.axis line, .axis path{
    stroke: #2E3532;
    stroke-width:1px;
}

.axisTitle, .axis text{
    fill: #2E3532;
    font-size:12px;
}

.background {
    fill: #FBFBFB;
    stroke: #2E3532;
}

.axisTitle, .chartTitle{
    text-anchor: middle
}


.ytitle {
    text-anchor: middle;
    transform: rotate(90deg)
}

.warningtext{
    text-anchor: center;
    fill: #F06449;
}

.regLine {
    stroke: #F06449;
    stroke-width:2px;
    opacity:0.7
}

.circle {
    fill: #4ECDC4;
    stroke: #292f36;
    stroke-width:0.3px
}

table {
    margin:auto;
    text-align:left;
    border-spacing: 15px 5px;
    border: 1px solid #2E3532
}

th {
    text-align: center;
    color:#F06449
}


tr {
    fill: #2E3532;
    font-size:10px
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: auto;
  background-color: #F06449;
  color: #FFFFFF;
  text-align: center;
  border-radius: 10px;
  padding: 0 5px 0 5px;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.bar {
    fill: #4ECDC4;
    stroke:#292f36;
}
.bar:hover {
    fill: #F06449;
    stroke:#292f36;
    stroke-width:1px;
}

.radio {
    margin: auto;
    width : 200px;
}

.wrapper {
    display: grid;
    margin: 50px 50px 50px 50px;
    gap: 10px 20px;
    grid-auto-rows: minmax(20px, auto);
    text-align: center;
    place-items: center;
}

.mainTitle, .summarizeTitle {
    height:30px;
    width: auto;
    border-radius: 2px;
    padding: 0 45px 0 45px;
    border-style: solid;
    border-width:1px;
    box-shadow: 2px 2px 1px rgba(0,0,0,0.1);
    color:  #2E3532;
    background: #FBFBFB;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.slidecontainer{
    width: 50%;
}

  </style>
</head>
<body>

  <script type="text/javascript">
    // structure of JSON
// { xLabel: string,
//   yLabel: string,
//   series: [ tests ] }
//
// tests := { name: string,
//            description: { start : int, sampling: float, stabilize: bool,
//                           quota: float, limit: int, instances: [string],
//                           samples: int, time : float}
//            dataset: [ point ],
//            kde : [ v: float ] (optional)
//            result: { estimate: float, r_square: float (optional) } }
//
// point := { x : double,
//            y : double }
//
// xLabel and yLabel are the same for any tests
window.onload = function () {

const wsvg = 600;
const hsvg = 400;
const wslider = 200;
const hslider = 50;
const margin = {left:50,right:50,top:20,bottom:50};
const dotSize = 1.5;
const innerW = wsvg-(margin.left+margin.right);
const innerH = hsvg-(margin.top+margin.bottom);

const marginbar = {left:150,right:150,top:50,bottom:50};
const wbar = 900;
const innerWbar = wbar-(marginbar.left+marginbar.right);

const SQRT_2PI = Math.sqrt(2 * Math.PI);

// Main function : place containers and call plot functions.
function render(inputs) {
    inputs.series.forEach(
	function(serie) {
	    serie.dataset.forEach(
		function(d) {
		    d.x = +d.x;
		    d.y = +d.y;
		});}
    );

    // First step : check if there is no kde/histogram data at all in
    // the benchmarks, in which case, we want to reduce our layout to
    // one column.
    let nonempty_kde = false;
    inputs.series.forEach(function (serie) {
	if ('kde' in serie) {
	    nonempty_kde = nonempty_kde || true;} });
    const nb_col = nonempty_kde ? 2 : 1;

    // ************************************************ //
    //              Layout of the page                  //
    // ************************************************ //
    // + a summarize bar graph on top
    // + one section for each benchmark which includes
    //     * 1 title
    //     * 1 linear regression graph and its title and information table
    //     * if kde data are available a histogram/kde graph with its control panel.
    //
    // If none of the benchmarks has kde data, the layout is the same
    // but with only one column (no hist/kde graphs).
    //
    //
    //              c1:        c2:
    //
    // r1:            *title*
    //           ___________________
    // r2:      |   summarize bar   |
    //          |___________________|
    //
    // r3:           *title-1*
    //
    // r4:        *title*   *radio*
    //           _______     _______
    // r5:      | lr-1  |   | kde-1 |
    //          |_______|   |_______|
    //
    // r6:      *infos-1*   *slider-1*
    // ..
    // r(4i+3):       *title-i*
    //
    // r(4i+4):  *title*     *radio*
    //           _______     _______
    // r(4i+5): | lr-i  |   | kde-i |
    //          |_______|   |_______|
    //
    // r(4i+6): *infos-i*   *slider-i*
    //
    // etc ..

      const main = d3.select("body")
	  .append("div")
	    .attr("class", "wrapper")
	    .style("grid-template-columns", (nonempty_kde ? "repeat(2,"+wsvg+"px)" : "900px"))
	    .attr("id", "main");

    // ************************************************ //
    //              Summarize bar graph                 //
    // ************************************************ //

    // Title
    main.append("div")
   	  .style("grid-row", "1")
      	.style("grid-column", "1 / "+(nb_col+1))
  	  .attr("class", "summarizeTitle")
  	.text("Benchmarks summary");

    // Bar graph
    let bar_container = main
	.append("div")
   	  .style("grid-row", "2")
      	  .style("grid-column", "1 / "+(nb_col+1))
	  .attr("id", "bar");
    plot_summarize_bar_graph(bar_container, inputs);


    // ************************************************ //
    //              Layout for lr/kde graphs            //
    // ************************************************ //

    // Benchmark titles
    const titles = main
	  .selectAll(".mainTitle")
	  .data(inputs.series)
	  .enter()
	  .append("div")
	    .attr("id", (data, i) => "title-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+3))
      	    .style("grid-column", "1 / "+(nb_col+1))
  	    .attr("class","mainTitle")
	  .append("text")
  	    .attr("x", wsvg)
  	    .attr("y", margin.top-10)
            .text((data, i) => "#"+data.name);

    // Linear regression graph titles
    const titles_lr = main
	  .selectAll("#title_lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("id",  "title_lr")
   	    .style("grid-row", (data,i) =>""+(4*i+4))
   	    .style("grid-column", "1")
	  .append("text")
  	    .attr("class","chartTitle")
  	    .text("Linear regression");

    // Containers for linear regression graphs
    const lr_graphs = main
	  .selectAll(".lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr")
	    .attr("id", (data, i) => "linearRegression-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+5))
   	  .style("grid-column", "1");

    // Containers for linear regression info tables
    const lr_info = main
	  .selectAll(".lr-info")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr-info")
	    .attr("id", (data, i) => "lr-info-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+6))
            .style("grid-column", "1");

    let radio_div, kde_graphs, kde_controler;
    if (nonempty_kde) {
	// Containers for radio buttons to choose between histogram/kde plots
	radio_div = main
	      .selectAll(".radio_div")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class",  "radio")
	      .attr("id", (d, i) => "radio_div"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+4))
   	      .style("grid-column", "2");

	// Containers for kde/hist graph
	kde_graphs = main
	      .selectAll(".kde")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde")
	      .attr("id", (data, i) => "histKde-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+5))
   	      .style("grid-column", "2");

	// Containers for kde/hist controlers
	kde_controler = main
	      .selectAll(".kde-controler")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde-controler")
	      .attr("id", (data, i) => "kde-controler-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+6))
              .style("grid-column", "2");
    }

    // ************************************************ //
    //          Linear regression graph                 //
    // ************************************************ //
    lr_graphs.each( function(serie, i) {
	//Curves for each input
	const xMin = 0;
	const xMax = d3.max(serie.dataset, d => d.x);
	const yMin = 0;
	const yMax = d3.max(serie.dataset, d => d.y);

	// Define x axis
	const xScale = d3.scaleLinear()
  	      .domain([xMin,xMax])
  	      .range([0,innerW])
  	      .nice();
	const xAxis = d3.axisBottom()
  	      .scale(xScale)
  	      .ticks(8, "s");
	// "s" = number format such as 1000 -> 1k

	// Define y axis
	const yScale = d3.scaleLinear()
  	      .domain([yMin,yMax])
  	      .range([innerH,0])
  	      .nice();
	const yAxis = d3.axisLeft()
  	      .scale(yScale)
  	      .ticks(8, "s");

	// Svg
  	const plot = d3.select(this)
	    .append("svg")
  	      .attr("width",wsvg)
  	      .attr("height",hsvg);
	// Color background
	plot.append("rect")
  	    .attr("x",margin.left)
  	    .attr("y",margin.top)
  	    .attr("width",innerW)
  	    .attr("height",innerH)
  	    .attr("class","background axis");
	// Plot axis
	plot.append("g")
  	    .attr("transform",
	 	  "translate("+margin.left+","
	 	  +(hsvg-margin.bottom)+")")
	    .attr("class", "axis")
  	    .call(xAxis);
	plot.append("g")
  	    .attr("transform",
	  	  "translate("+margin.left+","
		  +margin.top+")")
	    .attr("class", "axis")
  	    .call(yAxis);
	// Print axis titles
	plot.append("text")
	    .attr("class", "axisTitle")
	    .attr("x", wsvg/2)
	    .attr("y", hsvg-10)
	    .text(inputs.xLabel);
	plot.append("text")
	    .attr("class", "axisTitle ytitle")
	    .attr("transform-origin", 0, hsvg/2)
	    .attr("x", 0)
	    .attr("y", hsvg/2)
	    .text(inputs.yLabel);

	// Plot data
	plot.append("g")
	    .attr("transform",
		  "translate("+margin.left+","
		  +margin.top+")")
  	    .selectAll("circle")
  	    .data(serie.dataset)
  	    .enter()
  	    .append("circle")
	    .attr("class", "circle")
  	    .attr("r", dotSize)
  	    .attr("cx", d => xScale(d.x))
  	    .attr("cy", d => yScale(d.y));

	// Plot linear regression line

	const xVals = serie.dataset.map((e,j) => e.x);
	const yVals = serie.dataset.map((e,j) => e.y);
	const pairs = [];
	xVals.forEach((d,i) => pairs.push([xVals[i],yVals[i]]));
	const linReg = ss.linearRegression(pairs);
	const linRegLine = ss.linearRegressionLine(linReg);
	let line = plot
	    .append("line")
    	      .attr("transform","translate("+margin.left+","+margin.top+")")
    	      .attr("class","regLine")
    	      .attr("x1",xScale(xMin))
    	      .attr("x2",xScale(xMin))
    	      .attr("y1",yScale(linRegLine(xMin)))
    	      .attr("y2",yScale(linRegLine(xMin)));
	line.transition().duration(1000).delay(2000)
    	      .attr("x2",xScale(xMax))
    	      .attr("y2",yScale(linRegLine(xMax)));

	// Add text boxes
	//const meanX = ss.mean(xVals).toFixed(0);
	//const meanY = ss.mean(yVals).toFixed(2);
	//const varX = ss.sampleVariance(xVals).toFixed(0);
	//const varY = ss.sampleVariance(yVals).toFixed(1);
	//const corCoeff = ss.sampleCorrelation(xVals,yVals).toFixed(3);

	const lr_results = [
	    ["Linear regression line", "y = "+linReg.b.toFixed(2)+" + "+linReg.m.toFixed(3)+"x"],
	    ["Coefficient", serie.result.estimate],
	    ["R²", serie.result.r_square]
	];

	const sampling_to_string = sampling =>
              (Number.isInteger(sampling) ?  "`Linear "+sampling+"" : "`Geometric "+sampling+"");

	const format = v  => d3.format("s")(v);

	const param_benchmarks = [
	    ["LR sampling (sampling)", sampling_to_string(serie.description.sampling)],
	    ["Start (start)", serie.description.start],
	    ["Benchmark runtime (time / quota)",
	     format(serie.description.time) + " / " + format(serie.description.quota)],
	    ["Number of runs (samples)", serie.description.samples + " / " + serie.description.limit],
	    ["Stabilized GC (stabilize)", serie.description.stabilize]
	];

	const table = d3.select("#lr-info-"+i)
	      .append("table");

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Linear regression results");

	table.append("tbody")
	    .selectAll("tr")
	    .data(lr_results)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("class", "tooltip")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Benchmarks parameters")
	    .append("span")
	    .attr("class","tooltiptext")
	    .text("See [Benchmarks.stats]");

	table.append("tbody")
	    .selectAll("tr")
	    .data(param_benchmarks)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

    });

    // ************************************************ //
    //         Histogram and kde graphs                 //
    // ************************************************ //
    if (nonempty_kde) {
        kde_graphs.each(function (serie, i) {

	    // Svg for histogram and kde graphs
	    let pdfgraph = d3.select(this)
		.append("svg")
		.attr("id", "pdfgraph")
		.attr("width", wsvg)
		.attr("height", hsvg)
		.append("g")
		.attr("transform", "translate("+margin.left+","+margin.top+")");

	    // If there is no kde field in the data [serie], some note
	    // is written in the svg window.
	    if (!('kde' in serie)) {
		pdfgraph.append("text")
		    .attr("x", (margin.left+margin.right+wsvg)/2)
		    .attr("y", (margin.top+margin.bottom+hsvg)/2)
		    .attr("class", "warning")
		    .text("No available data");
	    } else if (d3.max(serie.kde) == d3.min(serie.kde)) {
		pdfgraph.append("text")
		    .attr("x", wsvg/2)
		    .attr("y", hsvg/2)
		    .attr("class", "warningtext")
		    .text("All data have same value.");
	    } else {
		const data = serie.kde;
		//Some default values
		const min_slider = (d3.max(data)-d3.min(data))/data.length;
		const max_slider = (d3.max(data)-d3.min(data))/30;
		let vslider = min_slider;

		//Radio buttons
		const form = d3.select("#radio_div"+i)
		      .append("form");

		form.append("input")
		    .attr("type", "radio")
		    .attr("name", "graph")
		    .attr("value", "hist"+i)
		    .attr("name", "graph")
		    .attr("checked", "checked")
		    .on("change", () => plot_chosen_graph(d3.select(this), "hist"));
		form.append("label")
		    .attr("for", "hist"+i)
		    .text("Histogram");
		form.append("input")
		    .attr("type", "radio")
		    .attr("value", "kde"+i)
		    .attr("name", "graph")
		    .on("change", () => plot_chosen_graph(d3.select(this), "kde"));
		form.append("label")
		    .attr("for", "kde"+i)
		    .text("KDE");

		//axis
		const min = d3.min(data),
		      max = d3.max(data);
		const minX = d3.max([0, min-max_slider]),
		      maxX = max+max_slider;

		//X axis is the same for both graphs (histogram and kde)
		const xscale = d3.scaleLinear()
		      .range([0, innerW])
		      .domain([minX, maxX])
		      .nice();
		const xAxis = d3.axisBottom()
		      .scale(xscale)
		      .ticks(8, "s");

		//Y axis has a different domain value between both graphs.
		//So yscale.domain() is defined individually for each plot.
		const yscale = d3.scaleLinear()
		      .range([0, innerH])
		      .nice();
		const yAxis = d3.axisLeft()
		      .scale(yscale)
		      .ticks(8, "s");

		//x value for kde graph
		const n = 1000;
		const x = Array(n);
		const xmin = d3.min(xscale.domain()),
		      xmax = d3.max(xscale.domain());
		for (let i=0; i<n; i++) { x[i] = xmin + i*(xmax-xmin)/n; }

		//Compute kde function for min bandwidth value to determine to determine
		//the max value of Y axis. Only happens one time when loading the webpage.
		const kde = kernelDensityEstimation(data, min_slider);
		const v = new Array(n);
		for (let i=0; i<n;i++){ v[i] = kde(x[i]);}
		const maxYkde = d3.max(v),
		      maxYhist = d3.max(histogram(data, max_slider, min, max));

		//background
		pdfgraph
		    .append("rect")
  		    .attr("x", 0)
  		    .attr("y", 0)
  		    .attr("width", innerW)
  		    .attr("height", innerH)
  		    .attr("class","background axis");

		// x Axis
		const gxAxis = pdfgraph
	              .append("g")
	              .attr("transform","translate(0"+","+innerH+")")
	              .attr("class", "axis")
	              .call(xAxis);

		// y Axis
		const gyAxis = pdfgraph
	              .append("g")
	              .attr("class", "axis")
	              .call(yAxis);

		// X Axis title
		pdfgraph.append("text")
		    .attr("class", "axisTitle")
		    .attr("x", innerW/2)
		    .attr("y", innerH+40)
		    .text("Estimated "+inputs.yLabel);

		plot_chosen_graph(d3.select(this), "hist");

		function plot_chosen_graph(container, choice) {


		    container.selectAll(".bar").remove();
		    container.select(".mypath").remove();
		    container.select(".ytitle").remove();

		    // Erasing control panels if it exists and initializing it
		    const control_container = d3.select("#kde-controler-"+i);
		    const slider = control_container.select("#slider-"+i);
		    const slidertitle = control_container.select("#slidertitle-"+i);
		    if (!slider.empty())  {
			slider.remove();
		    }
		    if (!slidertitle.empty())  {
			slidertitle.remove();
		    }

		    //Hist part
		    if (choice=="hist") {
			// Defined yAxis
			yscale.domain([maxYhist, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", 10)
			    .attr("y", innerH/2)
			    .text("Count");

			const barwidth = vslider;

			const update_hist =
			      plot_histogram(pdfgraph, data, barwidth, xscale, yscale);

			//slider
			control_container
			    .insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Barwidth");

			control_container
			    .insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) => {
				      if (value > 0) {
					  vslider=value;
					  update_hist(vslider);}}));
		    } else {
			//Defined yAxis
			yscale.domain([maxYkde, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", +10)
			    .attr("y", innerH/2)
			    .text("Density");

			const bandwidth = vslider;
			const update_kde = plot_kde(pdfgraph, data, bandwidth, xscale, yscale, x);

			//slider
			control_container.insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Bandwidth");

			control_container.insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) =>
				      {if (value > 0) { vslider=value; update_kde(vslider);}}));
		    }; // end else
		}; // end function
	    }; //end else (available kde data)
	}); //end function // end each
    }; //end if



function plot_summarize_bar_graph(container, inputs) {

    const hbar = d3.min([60*inputs.series.length, hsvg]);
    const innerHbar = hbar - marginbar.top - marginbar.bottom;

    const xb = d3.scaleLinear()
	  .range([0, innerWbar])
	  .domain([0, d3.max(inputs.series, serie => serie.result.estimate)])
	  .nice();
    const yb = d3.scaleBand()
	  .range([0, innerHbar])
	  .padding(0.2)
	  .domain(inputs.series.map(serie => serie.name));
    const xbAxis = d3.axisBottom()
	  .scale(xb)
	  .ticks(8, "s");
    const ybAxis = d3.axisLeft()
	  .scale(yb);

    const bargraph =
	container.append("svg")
	.attr("width", wbar)
	.attr("height", hbar);

    // background
    bargraph.append("rect")
  	.attr("x", marginbar.left)
  	.attr("y", marginbar.top)
  	.attr("width", innerWbar)
  	.attr("height", innerHbar)
  	.attr("class", "background axis");
    // x Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+(hbar-marginbar.bottom)+")")
	.attr("class", "axis")
	.call(xbAxis);
    // x axis title
    bargraph.append("text")
	.attr("class", "axisTitle")
	.attr("x", wbar/2)
	.attr("y", hbar-10)
	.text("Estimated "+inputs.yLabel);
    // y Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.bottom+")")
	.attr("class", "axis")
	.call(ybAxis);

    // Bargraph
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.top+")")
	.selectAll(".bar")
   	.data(inputs.series)
	.enter()
	.append("rect")
	.attr("class", "bar")
	.attr("y", serie => yb(serie.name))
	.attr("height", yb.bandwidth)
	.attr("x", serie => 0)
	.attr("width", serie => xb(serie.result.estimate))
	.attr("fill", "#4ECDC4")
	.on("mouseover", function (serie) {
	    // Specify where to put label of text
	    bargraph.append("text")
		.attr("class", "axisTitle")
		.attr("id", "tt")
		.attr("x", wbar-200)
		.attr("y", marginbar.top-10)
		.text("Value: "+d3.format(".4s")(serie.result.estimate));
	})
        .on("mouseout", function (serie) {
	    // Select text by id and then remove
	    d3.selectAll("#tt").transition().duration("50").remove();
	});

};

// [histrogram (data, barwidth, min, max)] computes histogram
// values as follows:
// - a value [v] of [data] contributes to the bar between [u] and
// [u+barwidth] if u <= v < u+barwidth
// - the [i]th bar is between [min+i*barwidth] and [min+(i+1)*barwidth]
// - [max] is used only to determine the number of bars. It MUST be greater
// than [d3.max(data)]
function histogram(data, barwidth, min, max) {
    const nbar = Math.floor((max-min)/barwidth)+1;
    let hist = new Array(nbar);
    for (let i=0; i<nbar; i++) {
	hist[i]=0;
    }

    data.forEach(function(v) {
	const ind = Math.floor((v-min)/barwidth);
	hist[ind] ++;
    });

    let n = data.length;
    for (let i=0; i<nbar; i++) {
	hist[i] = hist[i];
    }

    return hist;
}

// [plot_histogram(container, data, bandwidth, xscale, yscale)]
// draws the histogram computes with
// [histogram(data, barwidth, d3.min(data), d3.max(data)]
// in the html element [container].
//
// Axis are already defined on [container], using [xscale] and [yscale].
//
// In addition, this function returns the update function
// that redraw the bar if called with a new barwidth.
function plot_histogram(container, data, barwidth, xscale, yscale) {
    const min = d3.min(data),
	  max = d3.max(data);
    const hist = histogram(data, barwidth, min, max);
    const sample_nb = data.length;

    const print_value = function (v) {
	container.append("text")
	    .attr("class", "axisTitle")
	    .attr("id", "tt2")
	    .attr("x", wsvg-170)
	    .attr("y", 20)
	    .text("Value: "+d3.format("d")(v)+" / "+d3.format("d")(sample_nb));};

    const rects = container
	  .selectAll(".bar")
   	  .data(hist)
	  .enter();

    rects.append("rect")
	.attr("class", "bar")
	.attr("x", (v, i) => xscale(i*barwidth+min))
	.attr("width", (v, i) => xscale(barwidth)-xscale(0))
	.attr("y", (v, i) => yscale(v))
	.attr("height", (v, i) => innerH-yscale(v))
	.on("mouseover", print_value)
        .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());

    function update_hist(nbarwidth) {
	//compute new histograph values
	const nhist = histogram(data, nbarwidth, min, max);

	const rects = container
	      .selectAll(".bar")
   	      .data(nhist);

	rects.exit().remove();

	rects.enter().append("rect").attr("class", "bar")
	    .merge(rects)
	    .attr("x", (v, i) => xscale(i*nbarwidth+min))
	    .attr("width", (v, i) => xscale(nbarwidth)-xscale(0))
	    .attr("y", (v, i) => yscale(v))
	    .attr("height", (v, i) => innerH-yscale(v))
	    .on("mouseover", print_value)
            .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());
    }
    return update_hist;
};

// [kernelDensityEstimation(data, bandwith] returns the function x -> kde(x)
//    for [data]. The kernel function used is a gaussian.
function kernelDensityEstimation(X, bandwidth) {
    //gaussian constante
    const a = 1/(2*bandwidth*bandwidth);
    const b = bandwidth * SQRT_2PI;
    const gaussianKernel =
	  function (x) {
	      return Math.exp(-a * x * x) / b;
	  };

    return function (x) {
        let i = 0;
        let sum = 0;
        for (i = 0; i < X.length; i++) {
	    sum += gaussianKernel(x - X[i])/X.length;
        }
	return sum ;
    };
}

// [plot_kde(container, data, bandwidth, xscale, yscale, x)] draws
// the kde function computes with [kde(data, bandwidth)]
// for the abscisse values defined by [x], in the html element
// [container].
//
// Axis are already defined on [container], using [xscale] and
// [yscale].
//
// In addition, this function returns the update function that
// redraw the curve if called with a new bandwidth.
function plot_kde(container, data, bandwidth, xscale, yscale, x) {
    const n = x.length;
    const kde = kernelDensityEstimation(data, bandwidth);
    const density = new Array(n);

    for (let i=0; i<n;i++){
	let tmp = x[i] ;
	density[i] = [tmp, kde(tmp)];
    }

    const graph = container
	  .append('g')
	  .append("path")
	  .attr("class", "mypath")
	  .datum(density)
	  .attr("fill", "#4ECDC4")
	  .attr("opacity", ".8")
	  .attr("stroke", "#292F36")
	  .attr("stroke-width", 1)
	  .attr("stroke-linejoin", "round")
	  .attr("d",
		d3.line()
		.curve(d3.curveBasis)
		.x(d => xscale(d[0]))
		.y(d => yscale(d[1])));

    function update_kde(nbandwidth) {
	let kde = kernelDensityEstimation(data, nbandwidth);

	for (let i=0; i<n;i++){
	    density[i][1] = kde(density[i][0]);
	}

	graph.datum(density)
	    .transition()
	    .duration(50)
	    .attr("d",
		  d3.line()
		  .curve(d3.curveBasis)
		  .x(d => xscale(d[0]))
		  .y(d => yscale(d[1])));
    };

    return update_kde;
};

};


var contents = null;
contents = {"xLabel":"run","yLabel":"monotonic-clock","series":[{"name":"find/art","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":2000000000,"limit":3000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":193,"time":2102176630},"dataset":[{"x":1,"y":113511},{"x":2,"y":184672},{"x":3,"y":275490},{"x":4,"y":364657},{"x":5,"y":453766},{"x":6,"y":543287},{"x":7,"y":633241},{"x":8,"y":728081},{"x":9,"y":809658},{"x":10,"y":966511},{"x":11,"y":1065256},{"x":12,"y":1158487},{"x":13,"y":1256070},{"x":14,"y":1353132},{"x":15,"y":1348900},{"x":16,"y":1439225},{"x":17,"y":1522830},{"x":18,"y":1616095},{"x":19,"y":1706805},{"x":20,"y":1797442},{"x":21,"y":1900244},{"x":22,"y":1975563},{"x":23,"y":2223305},{"x":24,"y":2280995},{"x":25,"y":2241086},{"x":26,"y":2334104},{"x":27,"y":2427882},{"x":28,"y":2553789},{"x":29,"y":2602623},{"x":30,"y":2679480},{"x":31,"y":2817400},{"x":32,"y":2905255},{"x":33,"y":2946930},{"x":34,"y":3060777},{"x":35,"y":3182902},{"x":36,"y":3230811},{"x":37,"y":3302483},{"x":38,"y":3448504},{"x":39,"y":3618302},{"x":40,"y":3619976},{"x":41,"y":3709496},{"x":42,"y":3877374},{"x":43,"y":3842551},{"x":44,"y":3938308},{"x":45,"y":4071768},{"x":46,"y":4117123},{"x":47,"y":4244460},{"x":48,"y":4344633},{"x":49,"y":4381748},{"x":50,"y":4514138},{"x":51,"y":4569378},{"x":52,"y":4645504},{"x":53,"y":4772450},{"x":54,"y":4828436},{"x":55,"y":4903245},{"x":56,"y":5002631},{"x":57,"y":5092050},{"x":58,"y":5220571},{"x":59,"y":5256854},{"x":60,"y":5412042},{"x":61,"y":5441173},{"x":62,"y":5589259},{"x":63,"y":5607806},{"x":64,"y":5715583},{"x":65,"y":5942776},{"x":66,"y":5900420},{"x":67,"y":6024493},{"x":68,"y":6063331},{"x":69,"y":6201139},{"x":70,"y":6242166},{"x":71,"y":6382388},{"x":72,"y":6428213},{"x":73,"y":6569090},{"x":74,"y":6695212},{"x":75,"y":6784020},{"x":76,"y":6778989},{"x":77,"y":6904397},{"x":78,"y":6959065},{"x":79,"y":7180300},{"x":80,"y":7170824},{"x":81,"y":7276234},{"x":82,"y":7317933},{"x":83,"y":7485752},{"x":84,"y":7482612},{"x":85,"y":7659410},{"x":86,"y":7712143},{"x":87,"y":7760407},{"x":88,"y":7904339},{"x":89,"y":7942210},{"x":90,"y":8070698},{"x":91,"y":8117931},{"x":92,"y":8197151},{"x":93,"y":8336724},{"x":94,"y":8382105},{"x":95,"y":8536997},{"x":96,"y":8549635},{"x":97,"y":8642574},{"x":98,"y":8780257},{"x":99,"y":8831050},{"x":100,"y":8952675},{"x":101,"y":9069484},{"x":102,"y":9107911},{"x":103,"y":9242571},{"x":104,"y":9368520},{"x":105,"y":9379751},{"x":106,"y":9530471},{"x":107,"y":9618796},{"x":108,"y":9750433},{"x":109,"y":9772893},{"x":110,"y":9825773},{"x":111,"y":9899128},{"x":112,"y":9993276},{"x":113,"y":10118907},{"x":114,"y":10208084},{"x":115,"y":10511626},{"x":116,"y":10375345},{"x":117,"y":10471483},{"x":118,"y":10539394},{"x":119,"y":10615036},{"x":120,"y":10735694},{"x":121,"y":10842480},{"x":122,"y":10905592},{"x":123,"y":10948824},{"x":124,"y":11092020},{"x":125,"y":11268626},{"x":126,"y":11365227},{"x":127,"y":11415972},{"x":128,"y":11493574},{"x":129,"y":11538512},{"x":130,"y":11645734},{"x":131,"y":11706951},{"x":132,"y":11730523},{"x":133,"y":12067658},{"x":134,"y":11984333},{"x":135,"y":12112200},{"x":136,"y":12164898},{"x":137,"y":12241628},{"x":138,"y":12302198},{"x":139,"y":12425948},{"x":140,"y":12591623},{"x":141,"y":12602982},{"x":142,"y":12697414},{"x":143,"y":12781633},{"x":144,"y":12897109},{"x":145,"y":12913807},{"x":146,"y":13036242},{"x":147,"y":13185737},{"x":148,"y":13222325},{"x":149,"y":13325572},{"x":150,"y":13400760},{"x":151,"y":13496802},{"x":152,"y":13630292},{"x":153,"y":13672720},{"x":154,"y":13791421},{"x":155,"y":13816629},{"x":156,"y":13924385},{"x":157,"y":14086377},{"x":158,"y":14092375},{"x":159,"y":14216589},{"x":160,"y":14320744},{"x":161,"y":14414218},{"x":162,"y":14600101},{"x":163,"y":14575059},{"x":164,"y":14809796},{"x":165,"y":15003142},{"x":166,"y":14985106},{"x":167,"y":14952071},{"x":168,"y":15038684},{"x":169,"y":15087963},{"x":170,"y":15151790},{"x":171,"y":15275713},{"x":172,"y":15545881},{"x":173,"y":15658971},{"x":174,"y":15682619},{"x":175,"y":15620097},{"x":176,"y":15674310},{"x":177,"y":15855493},{"x":178,"y":16114581},{"x":179,"y":16042672},{"x":180,"y":16166622},{"x":181,"y":16162861},{"x":182,"y":16272393},{"x":183,"y":16338910},{"x":184,"y":16446330},{"x":185,"y":16496190},{"x":186,"y":16707285},{"x":187,"y":16791775},{"x":188,"y":16878742},{"x":189,"y":17045830},{"x":190,"y":16975136},{"x":191,"y":17078938},{"x":192,"y":17145418},{"x":193,"y":17243112}],"kde":[90410,89375,89349,89277,89341,89442,92277,89803,88892,89079,88970,89207,89247,89236,89467,89684,89593,89970,89447,89335,89632,89665,89506,89224,89223,89199,89249,89195,89288,89513,89058,89468,89533,89411,88901,89491,89003,89265,88897,89141,89360,88975,89423,89350,88765,89276,89143,89136,88954,89638,88664,94171,89176,89362,89644,89522,89541,89559,89039,88854,89058,89152,89475,89357,89411,89322,89672,89462,89464,106844,92530,92207,92413,106206,89547,89104,89292,89367,89146,89171,89603,89192,89025,89146,89168,89629,89233,89384,89429,89116,89035,89234,89315,89262,89318,92215,89725,89343,88921,88745,89002,89340,89066,89250,88919,89117,89153,89243,89190,88954,89450,89070,89651,89226,88968,89001,89051,89330,88801,89000,89288,88909,88945,89609,89688,89205,88871,89018,88899,88790,89458,89379,89317,89006,89304,89509,89406,89162,88807,89477,91763,89127,89696,89111,88949,88672,88775,88459,89392,89508,88946,89065,89033,88979,88859,88911,88952,89004,88720,88780,88714,88545,89539,89531,89086,88932,88691,88992,89353,89056,89473,88876,88816,89294,88819,89117,88985,89302,89106,88951,88571,89020,88919,89383,92056,89595,89454,89127,89396,89216,88784,89090,89257,89553,89273,89044,89106,88830,89146,89201,89287,89048,89447,88980,89075,88747,89357,89358,89180,89523,89113,89543,88798,95276,90275,89418,89055,89481,89611,89405,89215,89180,89488,89623,89028,89452,88839,94594,90014,95315,89536,89222,90881,89564,88979,89453,89028,89819,89233,89334,88865,90798,89529,89395,89393,89573,90951,89544,89233,89470,89222,89945,89700,88928,89155,109455,92880,92723,107523,89254,90588,89580,89479,89469,89125,89420,89054,88950,89457,89314,89644,89260,89202,93944,91584,90142,89300,89151,89416,90891,89600,89190,89208,89120,89584,89495,89156,89322,90881,89674,89312,89254,89330,91104,89712,89204,89623,89175,89596,89467,89372,89200,89091,90277,89740,89548,89556,90883,89610,89600,89197,89586,89162,89501,89508,89309,89214,92174,89921,89718,89174,91012,89935,89775,89622,89347,90926,89348,89470,89363,89324,89191,89473,89588,89492,91312,89746,89571,89640,89185,90694,89389,89244,88998,89465,89703,89188,89546,89458,89383,89767,89629,89378,89111,90759,90013,89484,89211,89596,89894,89368,89804,89887,89498,89842,89508,89278,89493,92061,89656,89413,89531,89648,90282,89342,89511,89655,89407,89920,89284,89821,89281,91216,89687,89437,89790,89685,90654,90094,89814,89413,89282,89227,89195,89365,89213,89573,89282,89235,88877,89423,90951,89885,89698,89170,89357,95626,89811,89462,89704,89091,89576,89719,89256,89199,90948,89506,89327,89502,89428,89265,89512,89113,88983,89264,89808,89214,89105,89244,90771,89485,89353,89735,89115,90649,89818,89519,89448,88692,108596,92986,92775,108465,90712,89879,89020,89096,89544,90971,89765,92672,89321,89264,89938,89162,89359,89519,89237,89657,89406,88887,89562,90769,89513,89588,89426,89438,89718,89495,89279,89350,89385,89260,89129,89401,89108,91099,89557,89480,89333,89510,90974,89357,89466,89270,89577,89564,89491,89564,89516,91156,89596,89491,89247,91989,91165,89389,88792,89196,89277,89391,89081,89120,89326,88857,89517,88982,89510,89513,92297,89827,88821,89165,89281,90026,89065,89366,89405,89071,89521,89450,89254,89581,90830,89593,89111,88888,89383,89339,89039,88943,89120,89161,89416,89325,89000,88870,90508,89660,91775,89127,89147,90840,89178,89297,89515,89335,89475,89100,89034,89343,89275,89245,89573,89369,89646,90995,89589,89132,88619,88817,89512,89398,89574,89326,89485,89466,89010,88863,89264,90558,89406,89298,89138,88708,89166,89259,89166,88629,89201,89217,89172,88805,94486,91278,89762,88919,89055,89322,90975,89615,89013,88794,89037,89621,89337,89234,89157,95956,90467,89587,89433,89224,90657,89786,89517,89127,89361,89827,89691,89385,89519,89527,90183,89317,89401,89258,90294,90071,89091,89129,89396,89452,89141,109417,92718,92428,110112,89615,89275,89271,91339,89991,89138,89539,89198,90764,89561,89470,89865,89327,89548,89654,89593,89142,90984,89532,89680,89154,89063,91987,89730,89047,89353,89279,89794,89151,88989,89290,89308,89838,88890,89344,88687,90926,89505,89625,89328,89576,89663,89125,101067,90283,89722,89952,89770,89785,89601,91004,90004,89080,89217,89118,89790,89582,89449,89207,89546,89855,89350,89554,89226,91274,89655,89513,89889,89467,91380,89586,89379,89351,89763,90006,89472,89850,89430,89527,89767,89362,89356,89189,91026,89454,89542,88881,88862,93003,89785,89394,89232,89137,89892,89460,89496,89159,91415,89661,89285,89265,89178,89444,89570,89535,89711,89394,89490,89545,89152,88993,90880,89339,89024,89672,89162,90955,89706,89454,89414,89412,89178,89011,89332,89207,90565,89034,89275,88985,89201,90991,89773,94421,89322,89309,89596,89393,88950,89132,89416,89375,89721,89149,89099,90672,89532,89749,89118,89117,89745,88964,89413,89046,89037,89390,88987,89116,89410,90649,89334,89191,89380,89277,92103,89931,89121,88635,88650,89400,89015,89288,89382,90857,89485,89354,89467,91761,91293,89492,89377,108747,92617,92834,108177,89137,89196,89051,89784,89369,89002,89071,90610,89531,89539,89745,89303,89706,89385,89393,89348,89293,89601,89403,89181,88986,90161,89127,88518,88551,88802,90896,88764,88555,88701,88538,89494,89127,88984,89098,90476,91526,89314,88853,89018,90446,89347,88971,88918,89061,89173,88919,88733,89034,89241,89320,88871,89003,89012,90206,88925,89004,89117,88661,89405,88836,89148,88957,89037,89614,88964,88828,89725,90968,89649,89161,88924,88784,89266,89159,88729,89208,88801,89473,89196,88557,91679,96609,89951,88875,88824,89429,90784,89588,89280,89315,88835,89034,88944,89308,89354,88965,89339,88877,89148,88961,90833,89331,89254,89101,89188,89169,89147,89314,89011,88986,89138,89202,89137,89313,90993,89504,89039,88992,88852,89437,88899,89463,89162,89195,93343,90216,89219,88932,90827,89555,88848,88889,89322,90364,89643,89108,88959,88808,89845,89583,89276,88740,91263,89538,88916,89553,89292,90913,89864,89115,89173,89155,89556,89113,89026,89087,89265,89438,89221,89203,88877,90907,89152,89182,88731,89448,89842,88888,89668,94295,88964,89469,89599,89590,88720,90784,89725,89419,89396,89276,110468,92822,92667,108132,89429,90084,89352],"result":{"estimate":89613.88398386921,"r_square":0.9998783846982039}},{"name":"find/hashtbl","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":2000000000,"limit":3000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":177,"time":2107855415},"dataset":[{"x":1,"y":110488},{"x":2,"y":240968},{"x":3,"y":310661},{"x":4,"y":415455},{"x":5,"y":516829},{"x":6,"y":619128},{"x":7,"y":723925},{"x":8,"y":821050},{"x":9,"y":950890},{"x":10,"y":1078146},{"x":11,"y":1148108},{"x":12,"y":1233902},{"x":13,"y":1328863},{"x":14,"y":1430499},{"x":15,"y":1530966},{"x":16,"y":1635462},{"x":17,"y":1736916},{"x":18,"y":1839955},{"x":19,"y":1940674},{"x":20,"y":2040006},{"x":21,"y":2147015},{"x":22,"y":2249568},{"x":23,"y":2357220},{"x":24,"y":2458567},{"x":25,"y":2561676},{"x":26,"y":2656593},{"x":27,"y":2808945},{"x":28,"y":2867840},{"x":29,"y":2966170},{"x":30,"y":3111060},{"x":31,"y":3168047},{"x":32,"y":3271331},{"x":33,"y":3429813},{"x":34,"y":3464270},{"x":35,"y":3573934},{"x":36,"y":3710379},{"x":37,"y":3770271},{"x":38,"y":3876754},{"x":39,"y":4030665},{"x":40,"y":4084669},{"x":41,"y":4188403},{"x":42,"y":4287288},{"x":43,"y":4392707},{"x":44,"y":4535586},{"x":45,"y":4583837},{"x":46,"y":4680770},{"x":47,"y":4791182},{"x":48,"y":4888131},{"x":49,"y":5047525},{"x":50,"y":5135212},{"x":51,"y":5250031},{"x":52,"y":5293999},{"x":53,"y":5451003},{"x":54,"y":5579043},{"x":55,"y":5762724},{"x":56,"y":5767402},{"x":57,"y":5821587},{"x":58,"y":5914842},{"x":59,"y":6044980},{"x":60,"y":6144681},{"x":61,"y":6196732},{"x":62,"y":6310674},{"x":63,"y":6528325},{"x":64,"y":6606828},{"x":65,"y":6665534},{"x":66,"y":6718525},{"x":67,"y":6910558},{"x":68,"y":7023505},{"x":69,"y":7072373},{"x":70,"y":7116490},{"x":71,"y":7284270},{"x":72,"y":7305115},{"x":73,"y":7432530},{"x":74,"y":7680882},{"x":75,"y":7634181},{"x":76,"y":7809571},{"x":77,"y":7855199},{"x":78,"y":7940259},{"x":79,"y":8080513},{"x":80,"y":8181004},{"x":81,"y":8289981},{"x":82,"y":8388585},{"x":83,"y":8492481},{"x":84,"y":8619708},{"x":85,"y":8653648},{"x":86,"y":8772239},{"x":87,"y":8895502},{"x":88,"y":8956116},{"x":89,"y":9097255},{"x":90,"y":9239905},{"x":91,"y":9363519},{"x":92,"y":9326530},{"x":93,"y":9610378},{"x":94,"y":9619426},{"x":95,"y":9659194},{"x":96,"y":9788247},{"x":97,"y":9915580},{"x":98,"y":10065647},{"x":99,"y":10043708},{"x":100,"y":10250191},{"x":101,"y":10333315},{"x":102,"y":10432099},{"x":103,"y":10531617},{"x":104,"y":10629321},{"x":105,"y":10742226},{"x":106,"y":10834774},{"x":107,"y":10874604},{"x":108,"y":11001370},{"x":109,"y":11220419},{"x":110,"y":11248684},{"x":111,"y":11344070},{"x":112,"y":11394980},{"x":113,"y":11546108},{"x":114,"y":11656557},{"x":115,"y":11738608},{"x":116,"y":11842597},{"x":117,"y":11943627},{"x":118,"y":12094541},{"x":119,"y":12093674},{"x":120,"y":12251239},{"x":121,"y":12377148},{"x":122,"y":12438817},{"x":123,"y":12733268},{"x":124,"y":12819284},{"x":125,"y":12776672},{"x":126,"y":12861294},{"x":127,"y":12928000},{"x":128,"y":13009146},{"x":129,"y":13103082},{"x":130,"y":13274735},{"x":131,"y":13396215},{"x":132,"y":13493831},{"x":133,"y":13561960},{"x":134,"y":13650074},{"x":135,"y":13763638},{"x":136,"y":13927118},{"x":137,"y":14007329},{"x":138,"y":14155366},{"x":139,"y":14156833},{"x":140,"y":14339481},{"x":141,"y":14382947},{"x":142,"y":16370050},{"x":143,"y":14885686},{"x":144,"y":14935785},{"x":145,"y":14868136},{"x":146,"y":14864759},{"x":147,"y":15013618},{"x":148,"y":15091099},{"x":149,"y":15235216},{"x":150,"y":15290553},{"x":151,"y":15390145},{"x":152,"y":15466049},{"x":153,"y":15518982},{"x":154,"y":15710696},{"x":155,"y":15857157},{"x":156,"y":15892054},{"x":157,"y":16036703},{"x":158,"y":16407858},{"x":159,"y":16219297},{"x":160,"y":16393822},{"x":161,"y":16388368},{"x":162,"y":16512824},{"x":163,"y":16630923},{"x":164,"y":16706309},{"x":165,"y":16925143},{"x":166,"y":17021530},{"x":167,"y":17036578},{"x":168,"y":17164311},{"x":169,"y":17250277},{"x":170,"y":17306515},{"x":171,"y":17530469},{"x":172,"y":17520208},{"x":173,"y":17636655},{"x":174,"y":17753800},{"x":175,"y":17920488},{"x":176,"y":17988311},{"x":177,"y":18030120}],"kde":[103299,101778,101426,101699,101634,101801,102108,102031,101823,101987,101624,102232,101452,101515,102145,101437,101940,101834,102072,101693,101510,101661,101388,104194,101537,101668,101783,102018,101770,101591,101592,101679,102155,102266,101663,101617,101614,101909,101960,102313,101510,101741,101736,101687,102095,101979,101969,102043,101597,102025,101967,102419,101852,102049,101567,101542,102032,101887,102065,102367,101707,101688,105984,102035,101654,101754,102178,101478,101867,101819,102407,101378,102024,101791,101710,102085,101641,101913,120478,105660,105866,120019,101246,101419,101516,101672,102014,101827,101742,101622,101745,101925,101869,101752,101453,101400,101514,101636,101609,102025,101632,103727,101906,101653,101383,101475,101952,101707,101708,101077,101654,101560,101577,101345,101412,101362,101675,101352,101470,102152,101522,101355,101660,101703,101692,101906,101841,102275,102303,101695,101448,101729,101279,101406,101583,101749,101928,101572,101750,101692,103638,101762,101416,101134,101992,101202,101892,102337,101918,102051,101961,102025,101793,102067,102359,101953,101856,102216,102174,101633,101538,101379,101851,101829,101812,101798,101796,101942,101408,101317,101651,102046,105102,102192,101954,101766,102071,102633,102350,107895,101965,101833,101543,101360,101766,101272,101639,101519,101854,101687,101415,101514,101838,101807,101775,102012,101816,101327,101517,101912,101711,101208,101716,102119,101628,101755,101745,101270,101861,101966,101738,101600,101746,101937,101603,101646,101810,101671,106720,101679,101507,101849,101636,101399,101486,101888,101101,101278,102260,101563,102251,102118,101217,101584,101273,101454,101909,101676,101350,102180,101717,101277,101711,101251,121026,105866,105414,119846,101650,101607,101734,101788,101747,102213,102016,101689,101736,104675,101673,101865,101956,102137,101880,101561,101410,101408,101763,101378,101592,101702,102074,101831,101842,101999,102295,101706,102021,102075,101605,101172,101874,101919,101938,101783,102437,102017,101503,101670,101646,101834,102010,101450,101549,102024,101938,101500,104219,101701,101600,101744,101872,101539,101306,102234,101596,102073,101662,102312,101497,102070,101487,101952,101872,102117,101740,101661,101661,101582,102480,101122,101648,101636,101365,101384,101722,101716,101263,101426,101751,101308,100941,101586,101862,101840,102176,103389,102362,102139,101574,101169,101982,101585,101809,101653,101735,101702,101278,101450,101551,101798,101551,101798,101108,101186,101531,101481,101499,101481,101349,101748,101420,101476,102156,101539,101537,101287,101473,101541,101411,101249,101612,101215,102051,101678,101573,106170,101372,101765,101804,101357,101470,101603,101741,101605,101848,101741,101623,101637,101342,102317,101893,101436,101288,101441,101329,101322,101591,101340,101273,101775,101399,102040,101239,101938,121080,105470,105769,119035,101963,101486,101749,101553,101462,103186,102152,101813,101188,101627,101375,101565,101493,101041,101033,101122,101135,101281,100923,101055,100921,100844,101267,101260,101060,101128,101354,101076,101039,101273,101246,101202,101286,101295,101291,101773,101513,101678,101423,101488,101392,101200,101149,101356,101467,103377,101392,102077,101372,101353,101217,101023,100980,100960,100750,101783,100898,101267,101695,101376,101320,101372,101369,101851,101674,101605,101438,101519,101528,101969,101800,101260,101476,101158,101589,101320,101163,101577,101561,101020,101215,102128,101831,101195,103787,101345,101618,101206,101309,101870,101128,101549,101663,101528,101355,101533,101911,101760,101579,101665,101476,101453,101494,100959,101382,101862,101813,102170,101387,101804,101748,101973,101681,101950,101469,101939,101585,101599,101332,101561,101795,101553,101832,105813,101631,101546,101574,101461,101343,101340,101287,101566,101514,101493,101107,101318,101200,101235,101554,101274,101654,101219,101480,101261,101228,101103,101434,100847,101624,101011,101373,101720,101272,101498,101111,101303,102150,101203,101591,119250,105250,105326,122795,101541,101378,101213,100887,101183,101531,101480,101754,101953,101488,102036,101619,101100,101187,101393,101448,101643,101472,101155,101321,101347,101640,101107,101308,101284,101607,101505,101383,101499,101103,101538,101728,101296,101100,101550,101524,101745,101562,101409,103225,101351,100911,101311,101633,100961,101787,101319,101452,101119,101342,101355,101469,100801,101307,101543,101289,101098,101169,100582,101179,100987,101152,100927,101221,101506,101312,100593,101404,101527,101205,101261,101142,101697,101180,101337,101165,101411,101464,103449,101540,101780,101238,101462,101826,101758,101039,101336,101478,101895,101652,101588,101820,101473,101419,102062,101698,101068,101693,101382,101657,101789,101761,101723,101435,101204,101299,101293,101296,101582,101798,101292,101700,101681,101441,101630,101459,101564,105402,101476,101520,101774,101590,101231,101365,101912,101655,101537,101050,101303,101784,101676,101508,101870,101366,101951,101752,101973,101371,101077,101543,101091,101147,101199,101469,101446,101649,101509,101321,101333,101370,120229,104762,104955,119074,101148,101635,110556,101921,100954,121274,105756,105259,119121,101614,101732,101840,101727,101605,101453,101276,101307,101566,101175,101747,101399,101394,101296,102198,101660,101385,101325,101316,101682,101230,101682,100835,101305,101408,101436,101571,101676,101776,101553,101492,101655,104285,102113,101680,101925,101592,101982,101476,101501,101631,101766,101758,101832,101476,101869,101646,101780,101564,101735,101552,102007,101766,102486,101949,101735,101922,101272,101622,101377,101056,101353,101358,101718,101477,101553,102008,101462,101277,100999,101012,103682,102105,101649,101711,101755,101581,101479,101166,101708,101442,101402,101615,101570,101767,102001,101539,101487,101458,101553,101894,101849,101505,101388,101334,101470,102182,101829,101506,101235,101818,101764,101894,101207,101394,101460,101112,101064,100857,101335,105046,101473,101414,101223,101328,101227,101519,101438,101217,101480,101728,101323,101856,101252,101590,101543,101246,100763,101723,101364,101387,101620,101537,101382,101650,101240,101625,101965,101530,101373,101278,101711,101768,101558,101837,101802,101829,101212,101636,101672,105994,102043,101929,101889,101651,101549,101900,101796,101209,119917,105288,105317,120322,101913,101756,101217,101925,101837,101852,101523,101269,101766,101209,101677,101496,101643,101893,101050,101094,100956,101965,101362,101906,101972,101137,101605,101653,101555,103271,101724,101473,101606,101617,101351,100769,101208,101517,101784,101203,101211,101655,101468,101503,101443,100998,101511,101143,101327,101863,101489,101205,101571,101380,101560,101284,101750,101646,101495,102123,101575,101531,101365,101776,101837,101573,101136,101540,101233,103596,101479,102110,101170,101892,101704,101452,101828,100994,101297,102006,101555,101492,101848,101438,101326,101197,101782,101545,101280,101597,101267,101313,101210,101479,101074,101609,101765,101681,102022,101444,101792,101211,101519,101156,101265,101440,101693],"result":{"estimate":102363.0860799151,"r_square":0.9991942935526094}}]}


if (contents == null)
    d3.json("outputs.json", render);
else
    render(contents);
}

  </script>

</body>
</html>
