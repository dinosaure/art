<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>
  <script src="https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <style>
    *{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body{
    width: 100%;
    height: 100%;
    font-family:Helvetica Neue,metric,sans-serif;
    text-rendering: optimizeLegibility;
}

.center{
    width: 500px;
    margin:auto
}

text{
    font-family: metric,sans-serif;
}

.ml {
    text-align: left
}

svg {
    overflow: hidden;
    margin: auto
}

.axis line, .axis path{
    stroke: #2E3532;
    stroke-width:1px;
}

.axisTitle, .axis text{
    fill: #2E3532;
    font-size:12px;
}

.background {
    fill: #FBFBFB;
    stroke: #2E3532;
}

.axisTitle, .chartTitle{
    text-anchor: middle
}


.ytitle {
    text-anchor: middle;
    transform: rotate(90deg)
}

.warningtext{
    text-anchor: center;
    fill: #F06449;
}

.regLine {
    stroke: #F06449;
    stroke-width:2px;
    opacity:0.7
}

.circle {
    fill: #4ECDC4;
    stroke: #292f36;
    stroke-width:0.3px
}

table {
    margin:auto;
    text-align:left;
    border-spacing: 15px 5px;
    border: 1px solid #2E3532
}

th {
    text-align: center;
    color:#F06449
}


tr {
    fill: #2E3532;
    font-size:10px
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: auto;
  background-color: #F06449;
  color: #FFFFFF;
  text-align: center;
  border-radius: 10px;
  padding: 0 5px 0 5px;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.bar {
    fill: #4ECDC4;
    stroke:#292f36;
}
.bar:hover {
    fill: #F06449;
    stroke:#292f36;
    stroke-width:1px;
}

.radio {
    margin: auto;
    width : 200px;
}

.wrapper {
    display: grid;
    margin: 50px 50px 50px 50px;
    gap: 10px 20px;
    grid-auto-rows: minmax(20px, auto);
    text-align: center;
    place-items: center;
}

.mainTitle, .summarizeTitle {
    height:30px;
    width: auto;
    border-radius: 2px;
    padding: 0 45px 0 45px;
    border-style: solid;
    border-width:1px;
    box-shadow: 2px 2px 1px rgba(0,0,0,0.1);
    color:  #2E3532;
    background: #FBFBFB;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.slidecontainer{
    width: 50%;
}

  </style>
</head>
<body>

  <script type="text/javascript">
    // structure of JSON
// { xLabel: string,
//   yLabel: string,
//   series: [ tests ] }
//
// tests := { name: string,
//            description: { start : int, sampling: float, stabilize: bool,
//                           quota: float, limit: int, instances: [string],
//                           samples: int, time : float}
//            dataset: [ point ],
//            kde : [ v: float ] (optional)
//            result: { estimate: float, r_square: float (optional) } }
//
// point := { x : double,
//            y : double }
//
// xLabel and yLabel are the same for any tests
window.onload = function () {

const wsvg = 600;
const hsvg = 400;
const wslider = 200;
const hslider = 50;
const margin = {left:50,right:50,top:20,bottom:50};
const dotSize = 1.5;
const innerW = wsvg-(margin.left+margin.right);
const innerH = hsvg-(margin.top+margin.bottom);

const marginbar = {left:150,right:150,top:50,bottom:50};
const wbar = 900;
const innerWbar = wbar-(marginbar.left+marginbar.right);

const SQRT_2PI = Math.sqrt(2 * Math.PI);

// Main function : place containers and call plot functions.
function render(inputs) {
    inputs.series.forEach(
	function(serie) {
	    serie.dataset.forEach(
		function(d) {
		    d.x = +d.x;
		    d.y = +d.y;
		});}
    );

    // First step : check if there is no kde/histogram data at all in
    // the benchmarks, in which case, we want to reduce our layout to
    // one column.
    let nonempty_kde = false;
    inputs.series.forEach(function (serie) {
	if ('kde' in serie) {
	    nonempty_kde = nonempty_kde || true;} });
    const nb_col = nonempty_kde ? 2 : 1;

    // ************************************************ //
    //              Layout of the page                  //
    // ************************************************ //
    // + a summarize bar graph on top
    // + one section for each benchmark which includes
    //     * 1 title
    //     * 1 linear regression graph and its title and information table
    //     * if kde data are available a histogram/kde graph with its control panel.
    //
    // If none of the benchmarks has kde data, the layout is the same
    // but with only one column (no hist/kde graphs).
    //
    //
    //              c1:        c2:
    //
    // r1:            *title*
    //           ___________________
    // r2:      |   summarize bar   |
    //          |___________________|
    //
    // r3:           *title-1*
    //
    // r4:        *title*   *radio*
    //           _______     _______
    // r5:      | lr-1  |   | kde-1 |
    //          |_______|   |_______|
    //
    // r6:      *infos-1*   *slider-1*
    // ..
    // r(4i+3):       *title-i*
    //
    // r(4i+4):  *title*     *radio*
    //           _______     _______
    // r(4i+5): | lr-i  |   | kde-i |
    //          |_______|   |_______|
    //
    // r(4i+6): *infos-i*   *slider-i*
    //
    // etc ..

      const main = d3.select("body")
	  .append("div")
	    .attr("class", "wrapper")
	    .style("grid-template-columns", (nonempty_kde ? "repeat(2,"+wsvg+"px)" : "900px"))
	    .attr("id", "main");

    // ************************************************ //
    //              Summarize bar graph                 //
    // ************************************************ //

    // Title
    main.append("div")
   	  .style("grid-row", "1")
      	.style("grid-column", "1 / "+(nb_col+1))
  	  .attr("class", "summarizeTitle")
  	.text("Benchmarks summary");

    // Bar graph
    let bar_container = main
	.append("div")
   	  .style("grid-row", "2")
      	  .style("grid-column", "1 / "+(nb_col+1))
	  .attr("id", "bar");
    plot_summarize_bar_graph(bar_container, inputs);


    // ************************************************ //
    //              Layout for lr/kde graphs            //
    // ************************************************ //

    // Benchmark titles
    const titles = main
	  .selectAll(".mainTitle")
	  .data(inputs.series)
	  .enter()
	  .append("div")
	    .attr("id", (data, i) => "title-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+3))
      	    .style("grid-column", "1 / "+(nb_col+1))
  	    .attr("class","mainTitle")
	  .append("text")
  	    .attr("x", wsvg)
  	    .attr("y", margin.top-10)
            .text((data, i) => "#"+data.name);

    // Linear regression graph titles
    const titles_lr = main
	  .selectAll("#title_lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("id",  "title_lr")
   	    .style("grid-row", (data,i) =>""+(4*i+4))
   	    .style("grid-column", "1")
	  .append("text")
  	    .attr("class","chartTitle")
  	    .text("Linear regression");

    // Containers for linear regression graphs
    const lr_graphs = main
	  .selectAll(".lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr")
	    .attr("id", (data, i) => "linearRegression-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+5))
   	  .style("grid-column", "1");

    // Containers for linear regression info tables
    const lr_info = main
	  .selectAll(".lr-info")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr-info")
	    .attr("id", (data, i) => "lr-info-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+6))
            .style("grid-column", "1");

    let radio_div, kde_graphs, kde_controler;
    if (nonempty_kde) {
	// Containers for radio buttons to choose between histogram/kde plots
	radio_div = main
	      .selectAll(".radio_div")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class",  "radio")
	      .attr("id", (d, i) => "radio_div"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+4))
   	      .style("grid-column", "2");

	// Containers for kde/hist graph
	kde_graphs = main
	      .selectAll(".kde")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde")
	      .attr("id", (data, i) => "histKde-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+5))
   	      .style("grid-column", "2");

	// Containers for kde/hist controlers
	kde_controler = main
	      .selectAll(".kde-controler")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde-controler")
	      .attr("id", (data, i) => "kde-controler-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+6))
              .style("grid-column", "2");
    }

    // ************************************************ //
    //          Linear regression graph                 //
    // ************************************************ //
    lr_graphs.each( function(serie, i) {
	//Curves for each input
	const xMin = 0;
	const xMax = d3.max(serie.dataset, d => d.x);
	const yMin = 0;
	const yMax = d3.max(serie.dataset, d => d.y);

	// Define x axis
	const xScale = d3.scaleLinear()
  	      .domain([xMin,xMax])
  	      .range([0,innerW])
  	      .nice();
	const xAxis = d3.axisBottom()
  	      .scale(xScale)
  	      .ticks(8, "s");
	// "s" = number format such as 1000 -> 1k

	// Define y axis
	const yScale = d3.scaleLinear()
  	      .domain([yMin,yMax])
  	      .range([innerH,0])
  	      .nice();
	const yAxis = d3.axisLeft()
  	      .scale(yScale)
  	      .ticks(8, "s");

	// Svg
  	const plot = d3.select(this)
	    .append("svg")
  	      .attr("width",wsvg)
  	      .attr("height",hsvg);
	// Color background
	plot.append("rect")
  	    .attr("x",margin.left)
  	    .attr("y",margin.top)
  	    .attr("width",innerW)
  	    .attr("height",innerH)
  	    .attr("class","background axis");
	// Plot axis
	plot.append("g")
  	    .attr("transform",
	 	  "translate("+margin.left+","
	 	  +(hsvg-margin.bottom)+")")
	    .attr("class", "axis")
  	    .call(xAxis);
	plot.append("g")
  	    .attr("transform",
	  	  "translate("+margin.left+","
		  +margin.top+")")
	    .attr("class", "axis")
  	    .call(yAxis);
	// Print axis titles
	plot.append("text")
	    .attr("class", "axisTitle")
	    .attr("x", wsvg/2)
	    .attr("y", hsvg-10)
	    .text(inputs.xLabel);
	plot.append("text")
	    .attr("class", "axisTitle ytitle")
	    .attr("transform-origin", 0, hsvg/2)
	    .attr("x", 0)
	    .attr("y", hsvg/2)
	    .text(inputs.yLabel);

	// Plot data
	plot.append("g")
	    .attr("transform",
		  "translate("+margin.left+","
		  +margin.top+")")
  	    .selectAll("circle")
  	    .data(serie.dataset)
  	    .enter()
  	    .append("circle")
	    .attr("class", "circle")
  	    .attr("r", dotSize)
  	    .attr("cx", d => xScale(d.x))
  	    .attr("cy", d => yScale(d.y));

	// Plot linear regression line

	const xVals = serie.dataset.map((e,j) => e.x);
	const yVals = serie.dataset.map((e,j) => e.y);
	const pairs = [];
	xVals.forEach((d,i) => pairs.push([xVals[i],yVals[i]]));
	const linReg = ss.linearRegression(pairs);
	const linRegLine = ss.linearRegressionLine(linReg);
	let line = plot
	    .append("line")
    	      .attr("transform","translate("+margin.left+","+margin.top+")")
    	      .attr("class","regLine")
    	      .attr("x1",xScale(xMin))
    	      .attr("x2",xScale(xMin))
    	      .attr("y1",yScale(linRegLine(xMin)))
    	      .attr("y2",yScale(linRegLine(xMin)));
	line.transition().duration(1000).delay(2000)
    	      .attr("x2",xScale(xMax))
    	      .attr("y2",yScale(linRegLine(xMax)));

	// Add text boxes
	//const meanX = ss.mean(xVals).toFixed(0);
	//const meanY = ss.mean(yVals).toFixed(2);
	//const varX = ss.sampleVariance(xVals).toFixed(0);
	//const varY = ss.sampleVariance(yVals).toFixed(1);
	//const corCoeff = ss.sampleCorrelation(xVals,yVals).toFixed(3);

	const lr_results = [
	    ["Linear regression line", "y = "+linReg.b.toFixed(2)+" + "+linReg.m.toFixed(3)+"x"],
	    ["Coefficient", serie.result.estimate],
	    ["R²", serie.result.r_square]
	];

	const sampling_to_string = sampling =>
              (Number.isInteger(sampling) ?  "`Linear "+sampling+"" : "`Geometric "+sampling+"");

	const format = v  => d3.format("s")(v);

	const param_benchmarks = [
	    ["LR sampling (sampling)", sampling_to_string(serie.description.sampling)],
	    ["Start (start)", serie.description.start],
	    ["Benchmark runtime (time / quota)",
	     format(serie.description.time) + " / " + format(serie.description.quota)],
	    ["Number of runs (samples)", serie.description.samples + " / " + serie.description.limit],
	    ["Stabilized GC (stabilize)", serie.description.stabilize]
	];

	const table = d3.select("#lr-info-"+i)
	      .append("table");

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Linear regression results");

	table.append("tbody")
	    .selectAll("tr")
	    .data(lr_results)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("class", "tooltip")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Benchmarks parameters")
	    .append("span")
	    .attr("class","tooltiptext")
	    .text("See [Benchmarks.stats]");

	table.append("tbody")
	    .selectAll("tr")
	    .data(param_benchmarks)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

    });

    // ************************************************ //
    //         Histogram and kde graphs                 //
    // ************************************************ //
    if (nonempty_kde) {
        kde_graphs.each(function (serie, i) {

	    // Svg for histogram and kde graphs
	    let pdfgraph = d3.select(this)
		.append("svg")
		.attr("id", "pdfgraph")
		.attr("width", wsvg)
		.attr("height", hsvg)
		.append("g")
		.attr("transform", "translate("+margin.left+","+margin.top+")");

	    // If there is no kde field in the data [serie], some note
	    // is written in the svg window.
	    if (!('kde' in serie)) {
		pdfgraph.append("text")
		    .attr("x", (margin.left+margin.right+wsvg)/2)
		    .attr("y", (margin.top+margin.bottom+hsvg)/2)
		    .attr("class", "warning")
		    .text("No available data");
	    } else if (d3.max(serie.kde) == d3.min(serie.kde)) {
		pdfgraph.append("text")
		    .attr("x", wsvg/2)
		    .attr("y", hsvg/2)
		    .attr("class", "warningtext")
		    .text("All data have same value.");
	    } else {
		const data = serie.kde;
		//Some default values
		const min_slider = (d3.max(data)-d3.min(data))/data.length;
		const max_slider = (d3.max(data)-d3.min(data))/30;
		let vslider = min_slider;

		//Radio buttons
		const form = d3.select("#radio_div"+i)
		      .append("form");

		form.append("input")
		    .attr("type", "radio")
		    .attr("name", "graph")
		    .attr("value", "hist"+i)
		    .attr("name", "graph")
		    .attr("checked", "checked")
		    .on("change", () => plot_chosen_graph(d3.select(this), "hist"));
		form.append("label")
		    .attr("for", "hist"+i)
		    .text("Histogram");
		form.append("input")
		    .attr("type", "radio")
		    .attr("value", "kde"+i)
		    .attr("name", "graph")
		    .on("change", () => plot_chosen_graph(d3.select(this), "kde"));
		form.append("label")
		    .attr("for", "kde"+i)
		    .text("KDE");

		//axis
		const min = d3.min(data),
		      max = d3.max(data);
		const minX = d3.max([0, min-max_slider]),
		      maxX = max+max_slider;

		//X axis is the same for both graphs (histogram and kde)
		const xscale = d3.scaleLinear()
		      .range([0, innerW])
		      .domain([minX, maxX])
		      .nice();
		const xAxis = d3.axisBottom()
		      .scale(xscale)
		      .ticks(8, "s");

		//Y axis has a different domain value between both graphs.
		//So yscale.domain() is defined individually for each plot.
		const yscale = d3.scaleLinear()
		      .range([0, innerH])
		      .nice();
		const yAxis = d3.axisLeft()
		      .scale(yscale)
		      .ticks(8, "s");

		//x value for kde graph
		const n = 1000;
		const x = Array(n);
		const xmin = d3.min(xscale.domain()),
		      xmax = d3.max(xscale.domain());
		for (let i=0; i<n; i++) { x[i] = xmin + i*(xmax-xmin)/n; }

		//Compute kde function for min bandwidth value to determine to determine
		//the max value of Y axis. Only happens one time when loading the webpage.
		const kde = kernelDensityEstimation(data, min_slider);
		const v = new Array(n);
		for (let i=0; i<n;i++){ v[i] = kde(x[i]);}
		const maxYkde = d3.max(v),
		      maxYhist = d3.max(histogram(data, max_slider, min, max));

		//background
		pdfgraph
		    .append("rect")
  		    .attr("x", 0)
  		    .attr("y", 0)
  		    .attr("width", innerW)
  		    .attr("height", innerH)
  		    .attr("class","background axis");

		// x Axis
		const gxAxis = pdfgraph
	              .append("g")
	              .attr("transform","translate(0"+","+innerH+")")
	              .attr("class", "axis")
	              .call(xAxis);

		// y Axis
		const gyAxis = pdfgraph
	              .append("g")
	              .attr("class", "axis")
	              .call(yAxis);

		// X Axis title
		pdfgraph.append("text")
		    .attr("class", "axisTitle")
		    .attr("x", innerW/2)
		    .attr("y", innerH+40)
		    .text("Estimated "+inputs.yLabel);

		plot_chosen_graph(d3.select(this), "hist");

		function plot_chosen_graph(container, choice) {


		    container.selectAll(".bar").remove();
		    container.select(".mypath").remove();
		    container.select(".ytitle").remove();

		    // Erasing control panels if it exists and initializing it
		    const control_container = d3.select("#kde-controler-"+i);
		    const slider = control_container.select("#slider-"+i);
		    const slidertitle = control_container.select("#slidertitle-"+i);
		    if (!slider.empty())  {
			slider.remove();
		    }
		    if (!slidertitle.empty())  {
			slidertitle.remove();
		    }

		    //Hist part
		    if (choice=="hist") {
			// Defined yAxis
			yscale.domain([maxYhist, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", 10)
			    .attr("y", innerH/2)
			    .text("Count");

			const barwidth = vslider;

			const update_hist =
			      plot_histogram(pdfgraph, data, barwidth, xscale, yscale);

			//slider
			control_container
			    .insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Barwidth");

			control_container
			    .insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) => {
				      if (value > 0) {
					  vslider=value;
					  update_hist(vslider);}}));
		    } else {
			//Defined yAxis
			yscale.domain([maxYkde, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", +10)
			    .attr("y", innerH/2)
			    .text("Density");

			const bandwidth = vslider;
			const update_kde = plot_kde(pdfgraph, data, bandwidth, xscale, yscale, x);

			//slider
			control_container.insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Bandwidth");

			control_container.insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) =>
				      {if (value > 0) { vslider=value; update_kde(vslider);}}));
		    }; // end else
		}; // end function
	    }; //end else (available kde data)
	}); //end function // end each
    }; //end if



function plot_summarize_bar_graph(container, inputs) {

    const hbar = d3.min([60*inputs.series.length, hsvg]);
    const innerHbar = hbar - marginbar.top - marginbar.bottom;

    const xb = d3.scaleLinear()
	  .range([0, innerWbar])
	  .domain([0, d3.max(inputs.series, serie => serie.result.estimate)])
	  .nice();
    const yb = d3.scaleBand()
	  .range([0, innerHbar])
	  .padding(0.2)
	  .domain(inputs.series.map(serie => serie.name));
    const xbAxis = d3.axisBottom()
	  .scale(xb)
	  .ticks(8, "s");
    const ybAxis = d3.axisLeft()
	  .scale(yb);

    const bargraph =
	container.append("svg")
	.attr("width", wbar)
	.attr("height", hbar);

    // background
    bargraph.append("rect")
  	.attr("x", marginbar.left)
  	.attr("y", marginbar.top)
  	.attr("width", innerWbar)
  	.attr("height", innerHbar)
  	.attr("class", "background axis");
    // x Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+(hbar-marginbar.bottom)+")")
	.attr("class", "axis")
	.call(xbAxis);
    // x axis title
    bargraph.append("text")
	.attr("class", "axisTitle")
	.attr("x", wbar/2)
	.attr("y", hbar-10)
	.text("Estimated "+inputs.yLabel);
    // y Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.bottom+")")
	.attr("class", "axis")
	.call(ybAxis);

    // Bargraph
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.top+")")
	.selectAll(".bar")
   	.data(inputs.series)
	.enter()
	.append("rect")
	.attr("class", "bar")
	.attr("y", serie => yb(serie.name))
	.attr("height", yb.bandwidth)
	.attr("x", serie => 0)
	.attr("width", serie => xb(serie.result.estimate))
	.attr("fill", "#4ECDC4")
	.on("mouseover", function (serie) {
	    // Specify where to put label of text
	    bargraph.append("text")
		.attr("class", "axisTitle")
		.attr("id", "tt")
		.attr("x", wbar-200)
		.attr("y", marginbar.top-10)
		.text("Value: "+d3.format(".4s")(serie.result.estimate));
	})
        .on("mouseout", function (serie) {
	    // Select text by id and then remove
	    d3.selectAll("#tt").transition().duration("50").remove();
	});

};

// [histrogram (data, barwidth, min, max)] computes histogram
// values as follows:
// - a value [v] of [data] contributes to the bar between [u] and
// [u+barwidth] if u <= v < u+barwidth
// - the [i]th bar is between [min+i*barwidth] and [min+(i+1)*barwidth]
// - [max] is used only to determine the number of bars. It MUST be greater
// than [d3.max(data)]
function histogram(data, barwidth, min, max) {
    const nbar = Math.floor((max-min)/barwidth)+1;
    let hist = new Array(nbar);
    for (let i=0; i<nbar; i++) {
	hist[i]=0;
    }

    data.forEach(function(v) {
	const ind = Math.floor((v-min)/barwidth);
	hist[ind] ++;
    });

    let n = data.length;
    for (let i=0; i<nbar; i++) {
	hist[i] = hist[i];
    }

    return hist;
}

// [plot_histogram(container, data, bandwidth, xscale, yscale)]
// draws the histogram computes with
// [histogram(data, barwidth, d3.min(data), d3.max(data)]
// in the html element [container].
//
// Axis are already defined on [container], using [xscale] and [yscale].
//
// In addition, this function returns the update function
// that redraw the bar if called with a new barwidth.
function plot_histogram(container, data, barwidth, xscale, yscale) {
    const min = d3.min(data),
	  max = d3.max(data);
    const hist = histogram(data, barwidth, min, max);
    const sample_nb = data.length;

    const print_value = function (v) {
	container.append("text")
	    .attr("class", "axisTitle")
	    .attr("id", "tt2")
	    .attr("x", wsvg-170)
	    .attr("y", 20)
	    .text("Value: "+d3.format("d")(v)+" / "+d3.format("d")(sample_nb));};

    const rects = container
	  .selectAll(".bar")
   	  .data(hist)
	  .enter();

    rects.append("rect")
	.attr("class", "bar")
	.attr("x", (v, i) => xscale(i*barwidth+min))
	.attr("width", (v, i) => xscale(barwidth)-xscale(0))
	.attr("y", (v, i) => yscale(v))
	.attr("height", (v, i) => innerH-yscale(v))
	.on("mouseover", print_value)
        .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());

    function update_hist(nbarwidth) {
	//compute new histograph values
	const nhist = histogram(data, nbarwidth, min, max);

	const rects = container
	      .selectAll(".bar")
   	      .data(nhist);

	rects.exit().remove();

	rects.enter().append("rect").attr("class", "bar")
	    .merge(rects)
	    .attr("x", (v, i) => xscale(i*nbarwidth+min))
	    .attr("width", (v, i) => xscale(nbarwidth)-xscale(0))
	    .attr("y", (v, i) => yscale(v))
	    .attr("height", (v, i) => innerH-yscale(v))
	    .on("mouseover", print_value)
            .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());
    }
    return update_hist;
};

// [kernelDensityEstimation(data, bandwith] returns the function x -> kde(x)
//    for [data]. The kernel function used is a gaussian.
function kernelDensityEstimation(X, bandwidth) {
    //gaussian constante
    const a = 1/(2*bandwidth*bandwidth);
    const b = bandwidth * SQRT_2PI;
    const gaussianKernel =
	  function (x) {
	      return Math.exp(-a * x * x) / b;
	  };

    return function (x) {
        let i = 0;
        let sum = 0;
        for (i = 0; i < X.length; i++) {
	    sum += gaussianKernel(x - X[i])/X.length;
        }
	return sum ;
    };
}

// [plot_kde(container, data, bandwidth, xscale, yscale, x)] draws
// the kde function computes with [kde(data, bandwidth)]
// for the abscisse values defined by [x], in the html element
// [container].
//
// Axis are already defined on [container], using [xscale] and
// [yscale].
//
// In addition, this function returns the update function that
// redraw the curve if called with a new bandwidth.
function plot_kde(container, data, bandwidth, xscale, yscale, x) {
    const n = x.length;
    const kde = kernelDensityEstimation(data, bandwidth);
    const density = new Array(n);

    for (let i=0; i<n;i++){
	let tmp = x[i] ;
	density[i] = [tmp, kde(tmp)];
    }

    const graph = container
	  .append('g')
	  .append("path")
	  .attr("class", "mypath")
	  .datum(density)
	  .attr("fill", "#4ECDC4")
	  .attr("opacity", ".8")
	  .attr("stroke", "#292F36")
	  .attr("stroke-width", 1)
	  .attr("stroke-linejoin", "round")
	  .attr("d",
		d3.line()
		.curve(d3.curveBasis)
		.x(d => xscale(d[0]))
		.y(d => yscale(d[1])));

    function update_kde(nbandwidth) {
	let kde = kernelDensityEstimation(data, nbandwidth);

	for (let i=0; i<n;i++){
	    density[i][1] = kde(density[i][0]);
	}

	graph.datum(density)
	    .transition()
	    .duration(50)
	    .attr("d",
		  d3.line()
		  .curve(d3.curveBasis)
		  .x(d => xscale(d[0]))
		  .y(d => yscale(d[1])));
    };

    return update_kde;
};

};


var contents = null;
contents = {"xLabel":"run","yLabel":"monotonic-clock","series":[{"name":"find/art","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":2000000000,"limit":3000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":156,"time":2156675770},"dataset":[{"x":1,"y":126699},{"x":2,"y":260479},{"x":3,"y":360302},{"x":4,"y":479050},{"x":5,"y":604726},{"x":6,"y":878366},{"x":7,"y":974434},{"x":8,"y":1260366},{"x":9,"y":1540511},{"x":10,"y":7145815},{"x":11,"y":1887458},{"x":12,"y":2181932},{"x":13,"y":2484603},{"x":14,"y":8513358},{"x":15,"y":2291443},{"x":16,"y":2414849},{"x":17,"y":2358828},{"x":18,"y":2240567},{"x":19,"y":2630277},{"x":20,"y":2423957},{"x":21,"y":2617224},{"x":22,"y":2901187},{"x":23,"y":2896247},{"x":24,"y":3178328},{"x":25,"y":3664722},{"x":26,"y":4203217},{"x":27,"y":4190095},{"x":28,"y":12163724},{"x":29,"y":3899672},{"x":30,"y":8164750},{"x":31,"y":5082803},{"x":32,"y":4856303},{"x":33,"y":4984670},{"x":34,"y":4496239},{"x":35,"y":4501989},{"x":36,"y":4690703},{"x":37,"y":5709096},{"x":38,"y":4713217},{"x":39,"y":5044593},{"x":40,"y":5852492},{"x":41,"y":5709204},{"x":42,"y":5123495},{"x":43,"y":5460255},{"x":44,"y":6398565},{"x":45,"y":5666109},{"x":46,"y":6078671},{"x":47,"y":5730290},{"x":48,"y":5771099},{"x":49,"y":6126255},{"x":50,"y":6340427},{"x":51,"y":6218330},{"x":52,"y":15589071},{"x":53,"y":18925988},{"x":54,"y":14443580},{"x":55,"y":11725509},{"x":56,"y":8490473},{"x":57,"y":13147987},{"x":58,"y":20424812},{"x":59,"y":20032390},{"x":60,"y":13061430},{"x":61,"y":9125596},{"x":62,"y":10419867},{"x":63,"y":7888795},{"x":64,"y":9923939},{"x":65,"y":10016363},{"x":66,"y":8392699},{"x":67,"y":8068682},{"x":68,"y":8909228},{"x":69,"y":8927521},{"x":70,"y":8870569},{"x":71,"y":8847234},{"x":72,"y":9023320},{"x":73,"y":9378526},{"x":74,"y":9215095},{"x":75,"y":9505159},{"x":76,"y":9508316},{"x":77,"y":9690774},{"x":78,"y":9729475},{"x":79,"y":9936623},{"x":80,"y":10319192},{"x":81,"y":10070387},{"x":82,"y":10778250},{"x":83,"y":10777423},{"x":84,"y":12185036},{"x":85,"y":11487773},{"x":86,"y":11988354},{"x":87,"y":11329355},{"x":88,"y":12886445},{"x":89,"y":12379540},{"x":90,"y":13070165},{"x":91,"y":11292073},{"x":92,"y":20993671},{"x":93,"y":46394126},{"x":94,"y":35794233},{"x":95,"y":13924092},{"x":96,"y":35211407},{"x":97,"y":28577718},{"x":98,"y":20195982},{"x":99,"y":13089782},{"x":100,"y":13510166},{"x":101,"y":15323865},{"x":102,"y":13741238},{"x":103,"y":14257508},{"x":104,"y":14606635},{"x":105,"y":13840548},{"x":106,"y":13395829},{"x":107,"y":14035163},{"x":108,"y":14001658},{"x":109,"y":14063250},{"x":110,"y":17168597},{"x":111,"y":16369572},{"x":112,"y":17629188},{"x":113,"y":15963903},{"x":114,"y":14292688},{"x":115,"y":16354584},{"x":116,"y":15619201},{"x":117,"y":14788122},{"x":118,"y":15127290},{"x":119,"y":15883381},{"x":120,"y":19395249},{"x":121,"y":16190949},{"x":122,"y":20800169},{"x":123,"y":38678354},{"x":124,"y":30666915},{"x":125,"y":32031234},{"x":126,"y":31613441},{"x":127,"y":19806705},{"x":128,"y":20478167},{"x":129,"y":20332520},{"x":130,"y":17107633},{"x":131,"y":16999645},{"x":132,"y":20045389},{"x":133,"y":17770489},{"x":134,"y":17391085},{"x":135,"y":17305698},{"x":136,"y":17718112},{"x":137,"y":19218267},{"x":138,"y":17524236},{"x":139,"y":17869061},{"x":140,"y":18128495},{"x":141,"y":18598435},{"x":142,"y":18766574},{"x":143,"y":20106807},{"x":144,"y":44553446},{"x":145,"y":29705476},{"x":146,"y":47405821},{"x":147,"y":23127063},{"x":148,"y":21436999},{"x":149,"y":20267695},{"x":150,"y":28052569},{"x":151,"y":19761631},{"x":152,"y":21223139},{"x":153,"y":20606453},{"x":154,"y":19849921},{"x":155,"y":20471194},{"x":156,"y":23351466}],"kde":[171427,170658,172207,158865,131521,197454,155421,154904,155359,157109,153629,183153,149459,148749,145116,148892,149386,375865,157811,145017,121103,282453,138708,124123,122782,122759,122587,122038,121821,167435,162087,282543,179038,174803,195477,163773,215053,170872,186279,196228,188735,173018,176383,216812,225200,197500,172300,204896,176565,405977,165263,158342,162634,149819,197367,163277,162659,162928,162768,162711,181314,163313,162585,163739,163273,221300,125586,124215,134492,119721,119600,119263,119264,137269,119838,132509,122516,122507,123050,181920,181889,175215,178155,172264,155371,126759,145307,125227,123828,123325,135428,125517,123419,145554,123660,123413,123716,179517,123585,122292,122194,135818,121825,121619,122058,121862,122874,122320,121667,134214,123202,121981,135597,125551,125845,126080,149219,142456,126186,125789,126381,125559,126351,176089,128920,126031,125813,168126,125855,157373,211400,150503,128243,128327,127654,127298,127246,142796,127083,127128,126800,133956,126701,125635,125877,143923,126590,126158,126759,140758,159593,162274,151298,122184,120697,120016,183894,123438,122152,146368,122201,121912,121993,122008,131534,118323,118410,171936,156107,161707,159459,173522,161451,190152,159495,163760,123575,122533,122971,140649,122893,122200,121830,177699,122937,122164,122248,135243,122183,122218,122156,121973,134504,118947,133613,119172,119248,118986,118960,118693,131704,121187,133845,123685,163130,166626,146835,126223,125524,141325,124442,123793,123936,161884,122959,122727,122431,152867,123841,122421,122449,122589,122586,122514,134468,159067,166736,133233,125747,124274,123900,139481,124000,123193,122441,122534,122586,122125,134167,130945,119799,119466,118403,121413,119684,119020,132749,173318,123226,122538,122982,122391,122134,154559,139880,122282,121814,121986,121557,121222,121701,121049,134401,122261,121904,122004,127734,124741,122240,121436,135964,122062,122184,122641,154211,122032,122121,158384,156005,166609,155370,126874,125642,124555,160457,161753,163450,161789,163547,162609,185772,169210,132479,120661,128178,130627,119950,165486,186925,156568,205496,155363,155050,209301,152582,151949,151985,153804,153923,170285,153614,153339,152139,155376,155754,167585,154919,153635,152230,152688,152982,166997,154770,153595,151757,151767,156038,192196,152126,152409,151850,153775,153041,152864,168069,154671,154206,153539,153334,152402,167875,153753,153503,153259,153952,153571,166332,141824,117216,116522,116083,155474,116071,161990,138537,134916,116244,115838,114943,115562,114744,131239,115947,115102,115410,119147,155064,156403,135154,119033,117114,116471,116094,116062,116039,115487,115273,128391,115375,115038,115443,114965,115031,118687,115925,142036,115280,114783,114490,165279,116162,115803,115500,127231,115231,114548,114499,115155,114513,114661,114956,131714,115510,115348,115702,115222,115327,116030,115366,134324,158082,154784,156113,147938,203771,164357,148783,147787,147466,198480,150605,117437,132827,116710,116061,115391,115110,115035,114809,115218,127356,116250,115661,115427,115377,115574,115622,115869,131109,115468,115327,115008,114954,129786,118150,118140,163492,136797,162276,184340,134346,117748,116680,147979,127590,116693,115537,114998,114704,114693,114786,139716,115331,115384,114884,114772,128234,117864,118362,132488,118553,118135,118286,117865,118361,117736,117629,129237,118385,118361,118212,170811,118318,117984,118160,130433,118614,118366,117750,117990,117828,118050,117888,131431,117810,117267,117238,117215,117695,145589,122751,157646,166984,165989,182675,175073,131732,142722,123876,128966,123765,157508,122990,131882,131880,119174,118725,118608,118450,118528,117773,117796,135373,159927,156473,178408,121723,133318,122737,140421,123115,122757,122624,122433,122951,121926,138455,168283,173889,136740,186921,133849,122657,144810,122952,121700,121959,121330,124104,122736,145475,119354,118760,119100,118688,118623,118361,118802,145814,121924,121424,121707,121600,122515,122057,121721,134046,122569,122772,122314,122086,125447,122692,122871,185541,119084,118691,122003,138177,160999,162219,152839,127724,121798,120428,120490,119968,121786,133399,135362,122169,121988,127177,122687,122435,122633,152899,161337,142330,148333,242978,162754,174652,156912,154265,156240,156791,157713,194779,159473,152721,125818,125599,124692,152840,124888,129285,124432,122690,122178,122419,124669,146608,122916,122825,123278,126982,123638,177176,149104,135540,131941,126315,126259,126104,159987,222098,166630,166596,166400,167330,228042,192898,164271,162703,163638,162064,222541,162830,162952,163065,164021,242293,162205,162031,177225,170330,167765,1729552,168020,256793,161419,163727,144678,144044,149002,405853,142226,146769,150881,229297,171047,149413,122551,121628,122032,120851,158729,156992,153262,142851,155440,134942,151490,147888,259092,161764,160774,120699,161949,121768,122266,121451,185149,125462,120169,135032,148283,152758,176171,159051,156588,187973,171501,178777,183651,165281,163664,181589,171555,162008,172837,159058,157943,178660,156683,156413,223138,156588,175369,156970,158228,159138,158328,159699,174150,158464,160093,192207,167804,153916,234820,154032,159656,151367,151566,176816,132539,122677,116152,114675,152935,115567,119203,115852,165345,156147,157716,157652,163915,121968,349461,120353,120565,119220,118961,118650,164553,154848,146516,154614,120043,118946,120688,118938,118540,118928,122221,188453,118798,118539,118246,124581,119451,118351,118106,155331,132999,118924,118080,118285,117755,129891,170164,146098,119530,118845,127537,119122,118488,117915,134008,119106,132112,122107,121676,121560,122132,121694,126305,122489,122046,122690,122178,122121,122385,137685,123286,122232,132761,118864,121057,117981,117632,130181,118925,122444,119243,118971,118948,118940,120717,150805,131555,118599,118449,122864,118898,117962,117898,135505,118668,118101,130904,165543,121452,140883,178072,158772,123483,122530,123622,122913,122323,152217,123095,122378,142993,160396,126210,127772,140019,122594,123438,121970,144885,168601,160122,246943,124730,136281,137666,127101,126881,126300,221060,128991,145804,171118,170559,131148,157165,123064,122185,123528,123765,122706,122683,157995,162011,122969,132016,133574,121950,121453,172735,136496,122104,122684,127885,122988,121640,121580,158743,128140,122596,122294,121794,121570,124098,138455,122525,121786,121448,125605,121988,135495,165265,176381,130706,124278,123386,122867,122070,123076,164919,122631,121448,121768,123313,121680,121967,150395,123229,123253,122266,122704,122745,136639,126774,139696,126996,130937,178317,164265,197561,145941,124281,128185,123419,122640,122712,122809,123827,135303,121717,121706,122013,163718,122429,122024,134307,122305,122275,121872,121604,121753,121911,121775,134080,121681,121423,121635,122115,121615,121644,121270,134806,122507,122291,122006,121462,124258,121516,120698,137679,121909,125559,122221,155604,121990,121970,164370,123616,121703,149810,165807,124556,156301,154880,152461,159573,130032,128741,127882,127184,186066,161635,159129,162956],"result":{"estimate":162987.6613645507,"r_square":0.6060760233263318}},{"name":"find/hashtbl","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":2000000000,"limit":3000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":137,"time":2277375284},"dataset":[{"x":1,"y":209476},{"x":2,"y":408211},{"x":3,"y":541358},{"x":4,"y":670033},{"x":5,"y":790596},{"x":6,"y":966804},{"x":7,"y":1205420},{"x":8,"y":1343058},{"x":9,"y":1437506},{"x":10,"y":7692380},{"x":11,"y":1815077},{"x":12,"y":8460434},{"x":13,"y":2333057},{"x":14,"y":10380533},{"x":15,"y":2863399},{"x":16,"y":10963453},{"x":17,"y":3164225},{"x":18,"y":3384166},{"x":19,"y":3959743},{"x":20,"y":3397460},{"x":21,"y":9601871},{"x":22,"y":12017061},{"x":23,"y":11988076},{"x":24,"y":13052757},{"x":25,"y":17562110},{"x":26,"y":4821416},{"x":27,"y":4757479},{"x":28,"y":4156859},{"x":29,"y":4987317},{"x":30,"y":6675880},{"x":31,"y":6403238},{"x":32,"y":5577706},{"x":33,"y":7470617},{"x":34,"y":6729038},{"x":35,"y":5802683},{"x":36,"y":6168593},{"x":37,"y":6277352},{"x":38,"y":7932776},{"x":39,"y":7915406},{"x":40,"y":6728339},{"x":41,"y":8074147},{"x":42,"y":8580598},{"x":43,"y":8799829},{"x":44,"y":7836809},{"x":45,"y":7657085},{"x":46,"y":7977888},{"x":47,"y":8206735},{"x":48,"y":9937109},{"x":49,"y":9945922},{"x":50,"y":8685539},{"x":51,"y":9029430},{"x":52,"y":9832858},{"x":53,"y":9326538},{"x":54,"y":9736479},{"x":55,"y":9850467},{"x":56,"y":10106680},{"x":57,"y":10459570},{"x":58,"y":10282086},{"x":59,"y":10510945},{"x":60,"y":10673302},{"x":61,"y":11015955},{"x":62,"y":11283840},{"x":63,"y":11025941},{"x":64,"y":11746486},{"x":65,"y":10931137},{"x":66,"y":12324425},{"x":67,"y":11669401},{"x":68,"y":11712987},{"x":69,"y":12581859},{"x":70,"y":40194007},{"x":71,"y":25703015},{"x":72,"y":41904559},{"x":73,"y":12898972},{"x":74,"y":15269252},{"x":75,"y":16041928},{"x":76,"y":13322343},{"x":77,"y":13821789},{"x":78,"y":16297128},{"x":79,"y":13607279},{"x":80,"y":15031421},{"x":81,"y":13372022},{"x":82,"y":13963866},{"x":83,"y":15150051},{"x":84,"y":14328656},{"x":85,"y":17233521},{"x":86,"y":14303106},{"x":87,"y":14596134},{"x":88,"y":16614972},{"x":89,"y":15928340},{"x":90,"y":19666545},{"x":91,"y":16940254},{"x":92,"y":16605858},{"x":93,"y":16585739},{"x":94,"y":16968660},{"x":95,"y":17283052},{"x":96,"y":29051444},{"x":97,"y":33785113},{"x":98,"y":47044214},{"x":99,"y":19104399},{"x":100,"y":17638735},{"x":101,"y":18627391},{"x":102,"y":18111851},{"x":103,"y":18366271},{"x":104,"y":18897664},{"x":105,"y":19174200},{"x":106,"y":26202364},{"x":107,"y":18516973},{"x":108,"y":20297130},{"x":109,"y":20109074},{"x":110,"y":18904857},{"x":111,"y":19412392},{"x":112,"y":22684972},{"x":113,"y":20522783},{"x":114,"y":21243986},{"x":115,"y":19204717},{"x":116,"y":21892602},{"x":117,"y":28139817},{"x":118,"y":40635821},{"x":119,"y":29297468},{"x":120,"y":56365976},{"x":121,"y":24711888},{"x":122,"y":28425392},{"x":123,"y":22190974},{"x":124,"y":23352873},{"x":125,"y":23267594},{"x":126,"y":22582005},{"x":127,"y":22671462},{"x":128,"y":21495239},{"x":129,"y":24936786},{"x":130,"y":22982047},{"x":131,"y":25687684},{"x":132,"y":22607979},{"x":133,"y":26823680},{"x":134,"y":22790662},{"x":135,"y":23899512},{"x":136,"y":25598057},{"x":137,"y":34749675}],"kde":[167701,167441,180557,168813,168790,168765,168629,188503,182244,167004,175400,212815,220932,212105,211204,220095,237176,218590,204222,11998903,219088,232489,212059,211421,211768,212376,227011,211108,211482,210521,224186,212559,210822,211996,211937,223058,210840,249985,212452,226620,199601,198750,198122,211791,240028,256654,163801,163314,162672,203146,158792,158539,190967,201196,211026,169728,173240,217513,180863,6237066,169822,187272,165092,173160,161569,161267,160942,161138,185586,198893,164192,163497,192575,208682,3266123,187305,169656,171452,220593,243605,219865,180516,167977,184412,267307,209168,213497,221178,263786,228963,231719,220925,399680,225077,219337,377730,207248,208000,209174,211497,255053,210781,211054,208497,300678,215639,184284,170296,169848,231858,211133,422157,310218,215600,231350,221841,274051,222124,222085,221659,240888,221735,221159,221544,282107,223955,222666,261456,239687,226013,220780,222176,223962,244544,6453150,243138,223891,222580,222681,221495,237064,223607,221198,220249,240482,228583,221444,222932,249499,220076,276776,213155,228032,213311,212355,213316,212546,227030,213116,213101,212219,227619,212838,212348,212541,212547,205133,174485,173930,12292450,183004,177185,176968,175576,175787,187654,174471,173988,173741,174120,184061,172229,172248,172429,172255,172142,185547,174180,172975,173978,173234,184313,172691,171768,8049052,178863,201891,174610,172068,174611,158125,157444,174038,159199,158134,157058,156798,157285,187023,198148,197477,192349,196995,260054,197750,206920,157613,195875,231249,161527,160577,159538,158344,172273,158024,157800,157775,157398,172229,182826,163469,162975,163067,163153,163000,177507,162553,177366,1638459,166904,166129,165148,164595,164402,175243,162242,161791,162301,161871,179153,188356,173514,192336,172916,172291,201921,171883,172134,172046,172058,196243,166270,165831,165818,165711,198070,188344,185836,215360,190622,171596,199826,205335,205776,237478,206762,239065,222871,217376,222112,268711,201609,202508,199628,196830,193587,162675,161154,160555,160021,182724,190229,180463,216889,195419,248650,158268,157281,157279,156695,156863,189132,156412,155872,155745,155515,155396,178785,158602,158612,158404,158132,158224,172867,158393,158097,183528,157775,157718,216090,157855,157247,156552,162818,192153,215599,181896,159870,159554,158791,251827,193129,197710,209032,210731,253761,229017,267614,210886,234014,163577,163042,162655,162589,176245,162229,162214,162131,162045,160296,171222,163679,163769,163882,161921,162200,171346,161810,161674,161779,161539,161464,206793,162551,176545,166456,168199,175569,200639,172466,201168,206050,203209,249728,215939,223008,250314,287230,197639,205339,186917,225847,212907,210620,279231,232120,212043,209086,206013,208718,237633,168549,167466,177131,163528,193362,203159,201152,200754,199938,260775,201058,267125,206947,220292,206598,207121,221156,213055,227412,212451,212442,232571,232956,218767,218684,229451,212705,226592,213095,252378,212457,226584,211177,211937,212324,224353,175169,174254,173523,173192,173059,207432,172846,172559,172348,172558,197551,179394,173162,225669,172423,188443,243735,242265,229207,198255,224750,208255,202585,205589,179005,290221,289427,293650,493536,179080,171928,252263,198624,200517,175061,175151,174109,252193,181144,181382,173248,227774,211681,196492,184121,174132,173856,247728,214998,260641,213990,252117,213267,213844,213166,238763,213921,213557,212948,212697,227004,212659,213002,213035,228019,212970,244668,213136,247248,212675,212881,212653,212506,228577,211840,212093,212653,227505,212667,213012,212142,212818,205310,174473,173706,202555,174074,206398,173952,184256,221279,200532,191480,173956,173083,172480,172538,174435,189184,186352,173373,173479,173828,188302,172332,204251,215670,266980,199074,175324,174213,173680,173394,208428,210706,201447,173869,173315,205275,215197,202048,207548,189047,214577,175886,175080,174426,174218,243162,171111,170499,170605,170326,182598,172676,176385,158196,158009,157789,170256,158606,158257,158605,158581,158602,183333,193368,193229,158556,158236,158262,193713,193106,243604,194432,194245,208081,194616,194493,195671,194693,207071,194469,194637,194768,207573,194526,194619,194522,194226,234717,194459,194777,226278,194628,207895,194634,194227,193587,195075,207146,194869,195209,194169,195401,210042,194759,194988,194534,194733,208024,194638,885047,195648,194715,195024,213593,194561,194477,194715,194113,214933,194395,196956,196202,194694,219931,195423,252681,194633,195755,209012,194597,194304,207113,213816,200099,200591,199894,210531,208428,195045,194271,194161,194952,209026,193940,193739,229026,194931,207670,194338,194185,194877,194629,207801,193956,194165,194512,208265,213690,201073,201175,200551,224242,161002,159552,159513,190433,159230,169547,159759,159791,159900,159314,159354,172911,158385,158477,192938,197004,191970,194460,160717,160035,179477,158939,169360,160520,159011,158795,159051,161230,208148,158538,157866,157846,157671,157903,170466,158522,158325,158238,158186,158321,175777,181704,157977,157316,157443,157318,185518,190850,196154,240744,194993,239916,194066,194829,194282,194822,186477,158479,158815,158558,158216,158008,180916,159040,158772,158712,158665,158724,198845,190136,197205,198875,291244,194944,191030,198437,190157,227951,200444,202590,200709,200599,230838,208264,207524,230141,250444,210580,202568,212546,203980,398043,215613,197671,205452,246225,206448,215675,208319,226629,202702,207202,207620,205205,220237,198444,221489,209131,238186,212144,223228,286674,247413,215305,212000,198328,202707,233152,218387,232763,224477,259220,214415,234434,215542,646664,213129,216599,247430,206710,207464,213217,244202,208375,206706,206897,208514,262950,207152,207392,208800,251529,208656,209526,463616,250240,221551,229865,224681,283475,231669,236472,213787,257574,231195,220838,224671,248227,213138,417735,261463,221449,221628,237127,204856,216713,232032,219628,216728,249339,224898,222128,226996,261469,229817,297516,246983,242491,199860,169308,168915,168109,194406,167702,167316,167130,167102,166958,183741,208347,209726,171556,183568,224048,206153,273295,216044,244921,212493,208913,177023,167287,200765,206702,180512,169606,168779,184531,167186,166770,166503,166425,166219,194699,175447,168449,167967,229070,178973,166950,166799,166539,166539,166366,177645,167311,176691,171588,167903,167852,198933,186960,167742,167492,170908,184630,167303,166993,166829,166815,169574,226328,172958,159319,159081,191718,222276,188818,169365,168855,168369,167775,195937,167160,167128,167009,167008,182274,166266,166115,166084,196040,255787,170028,169368,168574,168435,170989,181366,168542,168430,168472,168223,167860,178772,168343,167993,167886,167943,167973,178526,168083,189618,167153,167420,214151,208939,176476,189530,188149,2035518,9040638,213220,256812,208394,227776,214923,183344,170315,169929,189543,166945,166096,165909,165742,165799,181661,168222,167103,167237,167237,203608,205737,168331,221834,169034,189837,202382,205213,169195,169148,168747,225857,205810,208236,210491,237394,168408],"result":{"estimate":209159.9965909813,"r_square":0.6253127577483999}}]}


if (contents == null)
    d3.json("outputs.json", render);
else
    render(contents);
}

  </script>

</body>
</html>
