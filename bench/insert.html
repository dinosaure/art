<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>
  <script src="https://unpkg.com/simple-statistics@7.0.2/dist/simple-statistics.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  <style>
    *{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body{
    width: 100%;
    height: 100%;
    font-family:Helvetica Neue,metric,sans-serif;
    text-rendering: optimizeLegibility;
}

.center{
    width: 500px;
    margin:auto
}

text{
    font-family: metric,sans-serif;
}

.ml {
    text-align: left
}

svg {
    overflow: hidden;
    margin: auto
}

.axis line, .axis path{
    stroke: #2E3532;
    stroke-width:1px;
}

.axisTitle, .axis text{
    fill: #2E3532;
    font-size:12px;
}

.background {
    fill: #FBFBFB;
    stroke: #2E3532;
}

.axisTitle, .chartTitle{
    text-anchor: middle
}


.ytitle {
    text-anchor: middle;
    transform: rotate(90deg)
}

.warningtext{
    text-anchor: center;
    fill: #F06449;
}

.regLine {
    stroke: #F06449;
    stroke-width:2px;
    opacity:0.7
}

.circle {
    fill: #4ECDC4;
    stroke: #292f36;
    stroke-width:0.3px
}

table {
    margin:auto;
    text-align:left;
    border-spacing: 15px 5px;
    border: 1px solid #2E3532
}

th {
    text-align: center;
    color:#F06449
}


tr {
    fill: #2E3532;
    font-size:10px
}

.tooltip .tooltiptext {
  visibility: hidden;
  width: auto;
  background-color: #F06449;
  color: #FFFFFF;
  text-align: center;
  border-radius: 10px;
  padding: 0 5px 0 5px;
  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.bar {
    fill: #4ECDC4;
    stroke:#292f36;
}
.bar:hover {
    fill: #F06449;
    stroke:#292f36;
    stroke-width:1px;
}

.radio {
    margin: auto;
    width : 200px;
}

.wrapper {
    display: grid;
    margin: 50px 50px 50px 50px;
    gap: 10px 20px;
    grid-auto-rows: minmax(20px, auto);
    text-align: center;
    place-items: center;
}

.mainTitle, .summarizeTitle {
    height:30px;
    width: auto;
    border-radius: 2px;
    padding: 0 45px 0 45px;
    border-style: solid;
    border-width:1px;
    box-shadow: 2px 2px 1px rgba(0,0,0,0.1);
    color:  #2E3532;
    background: #FBFBFB;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.slidecontainer{
    width: 50%;
}

  </style>
</head>
<body>

  <script type="text/javascript">
    // structure of JSON
// { xLabel: string,
//   yLabel: string,
//   series: [ tests ] }
//
// tests := { name: string,
//            description: { start : int, sampling: float, stabilize: bool,
//                           quota: float, limit: int, instances: [string],
//                           samples: int, time : float}
//            dataset: [ point ],
//            kde : [ v: float ] (optional)
//            result: { estimate: float, r_square: float (optional) } }
//
// point := { x : double,
//            y : double }
//
// xLabel and yLabel are the same for any tests
window.onload = function () {

const wsvg = 600;
const hsvg = 400;
const wslider = 200;
const hslider = 50;
const margin = {left:50,right:50,top:20,bottom:50};
const dotSize = 1.5;
const innerW = wsvg-(margin.left+margin.right);
const innerH = hsvg-(margin.top+margin.bottom);

const marginbar = {left:150,right:150,top:50,bottom:50};
const wbar = 900;
const innerWbar = wbar-(marginbar.left+marginbar.right);

const SQRT_2PI = Math.sqrt(2 * Math.PI);

// Main function : place containers and call plot functions.
function render(inputs) {
    inputs.series.forEach(
	function(serie) {
	    serie.dataset.forEach(
		function(d) {
		    d.x = +d.x;
		    d.y = +d.y;
		});}
    );

    // First step : check if there is no kde/histogram data at all in
    // the benchmarks, in which case, we want to reduce our layout to
    // one column.
    let nonempty_kde = false;
    inputs.series.forEach(function (serie) {
	if ('kde' in serie) {
	    nonempty_kde = nonempty_kde || true;} });
    const nb_col = nonempty_kde ? 2 : 1;

    // ************************************************ //
    //              Layout of the page                  //
    // ************************************************ //
    // + a summarize bar graph on top
    // + one section for each benchmark which includes
    //     * 1 title
    //     * 1 linear regression graph and its title and information table
    //     * if kde data are available a histogram/kde graph with its control panel.
    //
    // If none of the benchmarks has kde data, the layout is the same
    // but with only one column (no hist/kde graphs).
    //
    //
    //              c1:        c2:
    //
    // r1:            *title*
    //           ___________________
    // r2:      |   summarize bar   |
    //          |___________________|
    //
    // r3:           *title-1*
    //
    // r4:        *title*   *radio*
    //           _______     _______
    // r5:      | lr-1  |   | kde-1 |
    //          |_______|   |_______|
    //
    // r6:      *infos-1*   *slider-1*
    // ..
    // r(4i+3):       *title-i*
    //
    // r(4i+4):  *title*     *radio*
    //           _______     _______
    // r(4i+5): | lr-i  |   | kde-i |
    //          |_______|   |_______|
    //
    // r(4i+6): *infos-i*   *slider-i*
    //
    // etc ..

      const main = d3.select("body")
	  .append("div")
	    .attr("class", "wrapper")
	    .style("grid-template-columns", (nonempty_kde ? "repeat(2,"+wsvg+"px)" : "900px"))
	    .attr("id", "main");

    // ************************************************ //
    //              Summarize bar graph                 //
    // ************************************************ //

    // Title
    main.append("div")
   	  .style("grid-row", "1")
      	.style("grid-column", "1 / "+(nb_col+1))
  	  .attr("class", "summarizeTitle")
  	.text("Benchmarks summary");

    // Bar graph
    let bar_container = main
	.append("div")
   	  .style("grid-row", "2")
      	  .style("grid-column", "1 / "+(nb_col+1))
	  .attr("id", "bar");
    plot_summarize_bar_graph(bar_container, inputs);


    // ************************************************ //
    //              Layout for lr/kde graphs            //
    // ************************************************ //

    // Benchmark titles
    const titles = main
	  .selectAll(".mainTitle")
	  .data(inputs.series)
	  .enter()
	  .append("div")
	    .attr("id", (data, i) => "title-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+3))
      	    .style("grid-column", "1 / "+(nb_col+1))
  	    .attr("class","mainTitle")
	  .append("text")
  	    .attr("x", wsvg)
  	    .attr("y", margin.top-10)
            .text((data, i) => "#"+data.name);

    // Linear regression graph titles
    const titles_lr = main
	  .selectAll("#title_lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("id",  "title_lr")
   	    .style("grid-row", (data,i) =>""+(4*i+4))
   	    .style("grid-column", "1")
	  .append("text")
  	    .attr("class","chartTitle")
  	    .text("Linear regression");

    // Containers for linear regression graphs
    const lr_graphs = main
	  .selectAll(".lr")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr")
	    .attr("id", (data, i) => "linearRegression-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+5))
   	  .style("grid-column", "1");

    // Containers for linear regression info tables
    const lr_info = main
	  .selectAll(".lr-info")
	  .data(inputs.series)
	  .enter()
	  .append("div")
            .attr("class", "lr-info")
	    .attr("id", (data, i) => "lr-info-"+i)
   	    .style("grid-row", (data,i) =>""+(4*i+6))
            .style("grid-column", "1");

    let radio_div, kde_graphs, kde_controler;
    if (nonempty_kde) {
	// Containers for radio buttons to choose between histogram/kde plots
	radio_div = main
	      .selectAll(".radio_div")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class",  "radio")
	      .attr("id", (d, i) => "radio_div"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+4))
   	      .style("grid-column", "2");

	// Containers for kde/hist graph
	kde_graphs = main
	      .selectAll(".kde")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde")
	      .attr("id", (data, i) => "histKde-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+5))
   	      .style("grid-column", "2");

	// Containers for kde/hist controlers
	kde_controler = main
	      .selectAll(".kde-controler")
	      .data(inputs.series)
	      .enter()
	      .append("div")
              .attr("class", "kde-controler")
	      .attr("id", (data, i) => "kde-controler-"+i)
   	      .style("grid-row", (data,i) =>""+(4*i+6))
              .style("grid-column", "2");
    }

    // ************************************************ //
    //          Linear regression graph                 //
    // ************************************************ //
    lr_graphs.each( function(serie, i) {
	//Curves for each input
	const xMin = 0;
	const xMax = d3.max(serie.dataset, d => d.x);
	const yMin = 0;
	const yMax = d3.max(serie.dataset, d => d.y);

	// Define x axis
	const xScale = d3.scaleLinear()
  	      .domain([xMin,xMax])
  	      .range([0,innerW])
  	      .nice();
	const xAxis = d3.axisBottom()
  	      .scale(xScale)
  	      .ticks(8, "s");
	// "s" = number format such as 1000 -> 1k

	// Define y axis
	const yScale = d3.scaleLinear()
  	      .domain([yMin,yMax])
  	      .range([innerH,0])
  	      .nice();
	const yAxis = d3.axisLeft()
  	      .scale(yScale)
  	      .ticks(8, "s");

	// Svg
  	const plot = d3.select(this)
	    .append("svg")
  	      .attr("width",wsvg)
  	      .attr("height",hsvg);
	// Color background
	plot.append("rect")
  	    .attr("x",margin.left)
  	    .attr("y",margin.top)
  	    .attr("width",innerW)
  	    .attr("height",innerH)
  	    .attr("class","background axis");
	// Plot axis
	plot.append("g")
  	    .attr("transform",
	 	  "translate("+margin.left+","
	 	  +(hsvg-margin.bottom)+")")
	    .attr("class", "axis")
  	    .call(xAxis);
	plot.append("g")
  	    .attr("transform",
	  	  "translate("+margin.left+","
		  +margin.top+")")
	    .attr("class", "axis")
  	    .call(yAxis);
	// Print axis titles
	plot.append("text")
	    .attr("class", "axisTitle")
	    .attr("x", wsvg/2)
	    .attr("y", hsvg-10)
	    .text(inputs.xLabel);
	plot.append("text")
	    .attr("class", "axisTitle ytitle")
	    .attr("transform-origin", 0, hsvg/2)
	    .attr("x", 0)
	    .attr("y", hsvg/2)
	    .text(inputs.yLabel);

	// Plot data
	plot.append("g")
	    .attr("transform",
		  "translate("+margin.left+","
		  +margin.top+")")
  	    .selectAll("circle")
  	    .data(serie.dataset)
  	    .enter()
  	    .append("circle")
	    .attr("class", "circle")
  	    .attr("r", dotSize)
  	    .attr("cx", d => xScale(d.x))
  	    .attr("cy", d => yScale(d.y));

	// Plot linear regression line

	const xVals = serie.dataset.map((e,j) => e.x);
	const yVals = serie.dataset.map((e,j) => e.y);
	const pairs = [];
	xVals.forEach((d,i) => pairs.push([xVals[i],yVals[i]]));
	const linReg = ss.linearRegression(pairs);
	const linRegLine = ss.linearRegressionLine(linReg);
	let line = plot
	    .append("line")
    	      .attr("transform","translate("+margin.left+","+margin.top+")")
    	      .attr("class","regLine")
    	      .attr("x1",xScale(xMin))
    	      .attr("x2",xScale(xMin))
    	      .attr("y1",yScale(linRegLine(xMin)))
    	      .attr("y2",yScale(linRegLine(xMin)));
	line.transition().duration(1000).delay(2000)
    	      .attr("x2",xScale(xMax))
    	      .attr("y2",yScale(linRegLine(xMax)));

	// Add text boxes
	//const meanX = ss.mean(xVals).toFixed(0);
	//const meanY = ss.mean(yVals).toFixed(2);
	//const varX = ss.sampleVariance(xVals).toFixed(0);
	//const varY = ss.sampleVariance(yVals).toFixed(1);
	//const corCoeff = ss.sampleCorrelation(xVals,yVals).toFixed(3);

	const lr_results = [
	    ["Linear regression line", "y = "+linReg.b.toFixed(2)+" + "+linReg.m.toFixed(3)+"x"],
	    ["Coefficient", serie.result.estimate],
	    ["RÂ²", serie.result.r_square]
	];

	const sampling_to_string = sampling =>
              (Number.isInteger(sampling) ?  "`Linear "+sampling+"" : "`Geometric "+sampling+"");

	const format = v  => d3.format("s")(v);

	const param_benchmarks = [
	    ["LR sampling (sampling)", sampling_to_string(serie.description.sampling)],
	    ["Start (start)", serie.description.start],
	    ["Benchmark runtime (time / quota)",
	     format(serie.description.time) + " / " + format(serie.description.quota)],
	    ["Number of runs (samples)", serie.description.samples + " / " + serie.description.limit],
	    ["Stabilized GC (stabilize)", serie.description.stabilize]
	];

	const table = d3.select("#lr-info-"+i)
	      .append("table");

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Linear regression results");

	table.append("tbody")
	    .selectAll("tr")
	    .data(lr_results)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

	table.append("thead")
	    .append("tr")
	    .append("th")
	    .attr("class", "tooltip")
	    .attr("colspan", 2)
	    .attr("scope", "col")
	    .text("Benchmarks parameters")
	    .append("span")
	    .attr("class","tooltiptext")
	    .text("See [Benchmarks.stats]");

	table.append("tbody")
	    .selectAll("tr")
	    .data(param_benchmarks)
	    .enter()
	    .append("tr")
	    .selectAll("td")
	    .data(d => d)
	    .enter()
	    .append("td")
	    .text(d=>d);

    });

    // ************************************************ //
    //         Histogram and kde graphs                 //
    // ************************************************ //
    if (nonempty_kde) {
        kde_graphs.each(function (serie, i) {

	    // Svg for histogram and kde graphs
	    let pdfgraph = d3.select(this)
		.append("svg")
		.attr("id", "pdfgraph")
		.attr("width", wsvg)
		.attr("height", hsvg)
		.append("g")
		.attr("transform", "translate("+margin.left+","+margin.top+")");

	    // If there is no kde field in the data [serie], some note
	    // is written in the svg window.
	    if (!('kde' in serie)) {
		pdfgraph.append("text")
		    .attr("x", (margin.left+margin.right+wsvg)/2)
		    .attr("y", (margin.top+margin.bottom+hsvg)/2)
		    .attr("class", "warning")
		    .text("No available data");
	    } else if (d3.max(serie.kde) == d3.min(serie.kde)) {
		pdfgraph.append("text")
		    .attr("x", wsvg/2)
		    .attr("y", hsvg/2)
		    .attr("class", "warningtext")
		    .text("All data have same value.");
	    } else {
		const data = serie.kde;
		//Some default values
		const min_slider = (d3.max(data)-d3.min(data))/data.length;
		const max_slider = (d3.max(data)-d3.min(data))/30;
		let vslider = min_slider;

		//Radio buttons
		const form = d3.select("#radio_div"+i)
		      .append("form");

		form.append("input")
		    .attr("type", "radio")
		    .attr("name", "graph")
		    .attr("value", "hist"+i)
		    .attr("name", "graph")
		    .attr("checked", "checked")
		    .on("change", () => plot_chosen_graph(d3.select(this), "hist"));
		form.append("label")
		    .attr("for", "hist"+i)
		    .text("Histogram");
		form.append("input")
		    .attr("type", "radio")
		    .attr("value", "kde"+i)
		    .attr("name", "graph")
		    .on("change", () => plot_chosen_graph(d3.select(this), "kde"));
		form.append("label")
		    .attr("for", "kde"+i)
		    .text("KDE");

		//axis
		const min = d3.min(data),
		      max = d3.max(data);
		const minX = d3.max([0, min-max_slider]),
		      maxX = max+max_slider;

		//X axis is the same for both graphs (histogram and kde)
		const xscale = d3.scaleLinear()
		      .range([0, innerW])
		      .domain([minX, maxX])
		      .nice();
		const xAxis = d3.axisBottom()
		      .scale(xscale)
		      .ticks(8, "s");

		//Y axis has a different domain value between both graphs.
		//So yscale.domain() is defined individually for each plot.
		const yscale = d3.scaleLinear()
		      .range([0, innerH])
		      .nice();
		const yAxis = d3.axisLeft()
		      .scale(yscale)
		      .ticks(8, "s");

		//x value for kde graph
		const n = 1000;
		const x = Array(n);
		const xmin = d3.min(xscale.domain()),
		      xmax = d3.max(xscale.domain());
		for (let i=0; i<n; i++) { x[i] = xmin + i*(xmax-xmin)/n; }

		//Compute kde function for min bandwidth value to determine to determine
		//the max value of Y axis. Only happens one time when loading the webpage.
		const kde = kernelDensityEstimation(data, min_slider);
		const v = new Array(n);
		for (let i=0; i<n;i++){ v[i] = kde(x[i]);}
		const maxYkde = d3.max(v),
		      maxYhist = d3.max(histogram(data, max_slider, min, max));

		//background
		pdfgraph
		    .append("rect")
  		    .attr("x", 0)
  		    .attr("y", 0)
  		    .attr("width", innerW)
  		    .attr("height", innerH)
  		    .attr("class","background axis");

		// x Axis
		const gxAxis = pdfgraph
	              .append("g")
	              .attr("transform","translate(0"+","+innerH+")")
	              .attr("class", "axis")
	              .call(xAxis);

		// y Axis
		const gyAxis = pdfgraph
	              .append("g")
	              .attr("class", "axis")
	              .call(yAxis);

		// X Axis title
		pdfgraph.append("text")
		    .attr("class", "axisTitle")
		    .attr("x", innerW/2)
		    .attr("y", innerH+40)
		    .text("Estimated "+inputs.yLabel);

		plot_chosen_graph(d3.select(this), "hist");

		function plot_chosen_graph(container, choice) {


		    container.selectAll(".bar").remove();
		    container.select(".mypath").remove();
		    container.select(".ytitle").remove();

		    // Erasing control panels if it exists and initializing it
		    const control_container = d3.select("#kde-controler-"+i);
		    const slider = control_container.select("#slider-"+i);
		    const slidertitle = control_container.select("#slidertitle-"+i);
		    if (!slider.empty())  {
			slider.remove();
		    }
		    if (!slidertitle.empty())  {
			slidertitle.remove();
		    }

		    //Hist part
		    if (choice=="hist") {
			// Defined yAxis
			yscale.domain([maxYhist, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", 10)
			    .attr("y", innerH/2)
			    .text("Count");

			const barwidth = vslider;

			const update_hist =
			      plot_histogram(pdfgraph, data, barwidth, xscale, yscale);

			//slider
			control_container
			    .insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Barwidth");

			control_container
			    .insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) => {
				      if (value > 0) {
					  vslider=value;
					  update_hist(vslider);}}));
		    } else {
			//Defined yAxis
			yscale.domain([maxYkde, 0]).nice();
			yAxis.scale(yscale);
			gyAxis.call(yAxis);

			// y Axis title
			pdfgraph.append("text")
			    .attr("transform-origin", "10 "+(innerH/2))
			    .attr("class", "axisTitle ytitle")
			    .attr("x", +10)
			    .attr("y", innerH/2)
			    .text("Density");

			const bandwidth = vslider;
			const update_kde = plot_kde(pdfgraph, data, bandwidth, xscale, yscale, x);

			//slider
			control_container.insert("p")
			    .attr("align", "center")
			    .attr("id", "slidertitle-"+i)
			    .text("Bandwidth");

			control_container.insert("svg")
			    .attr("width", wsvg)
			    .attr("height", hslider)
			    .attr("id", "slider-"+i)
			    .append("g")
			    .attr("transform", "translate("+(wsvg-wslider)/2+",10)")
			    .call(d3
				  .sliderBottom()
				  .min(min_slider)
				  .max(max_slider)
				  .width(wslider)
				  .ticks(5, "s")
				  .default(vslider)
				  .fill("red")
				  .on("onchange", (value) =>
				      {if (value > 0) { vslider=value; update_kde(vslider);}}));
		    }; // end else
		}; // end function
	    }; //end else (available kde data)
	}); //end function // end each
    }; //end if



function plot_summarize_bar_graph(container, inputs) {

    const hbar = d3.min([60*inputs.series.length, hsvg]);
    const innerHbar = hbar - marginbar.top - marginbar.bottom;

    const xb = d3.scaleLinear()
	  .range([0, innerWbar])
	  .domain([0, d3.max(inputs.series, serie => serie.result.estimate)])
	  .nice();
    const yb = d3.scaleBand()
	  .range([0, innerHbar])
	  .padding(0.2)
	  .domain(inputs.series.map(serie => serie.name));
    const xbAxis = d3.axisBottom()
	  .scale(xb)
	  .ticks(8, "s");
    const ybAxis = d3.axisLeft()
	  .scale(yb);

    const bargraph =
	container.append("svg")
	.attr("width", wbar)
	.attr("height", hbar);

    // background
    bargraph.append("rect")
  	.attr("x", marginbar.left)
  	.attr("y", marginbar.top)
  	.attr("width", innerWbar)
  	.attr("height", innerHbar)
  	.attr("class", "background axis");
    // x Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+(hbar-marginbar.bottom)+")")
	.attr("class", "axis")
	.call(xbAxis);
    // x axis title
    bargraph.append("text")
	.attr("class", "axisTitle")
	.attr("x", wbar/2)
	.attr("y", hbar-10)
	.text("Estimated "+inputs.yLabel);
    // y Axis
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.bottom+")")
	.attr("class", "axis")
	.call(ybAxis);

    // Bargraph
    bargraph.append("g")
	.attr("transform","translate("+marginbar.left+","+marginbar.top+")")
	.selectAll(".bar")
   	.data(inputs.series)
	.enter()
	.append("rect")
	.attr("class", "bar")
	.attr("y", serie => yb(serie.name))
	.attr("height", yb.bandwidth)
	.attr("x", serie => 0)
	.attr("width", serie => xb(serie.result.estimate))
	.attr("fill", "#4ECDC4")
	.on("mouseover", function (serie) {
	    // Specify where to put label of text
	    bargraph.append("text")
		.attr("class", "axisTitle")
		.attr("id", "tt")
		.attr("x", wbar-200)
		.attr("y", marginbar.top-10)
		.text("Value: "+d3.format(".4s")(serie.result.estimate));
	})
        .on("mouseout", function (serie) {
	    // Select text by id and then remove
	    d3.selectAll("#tt").transition().duration("50").remove();
	});

};

// [histrogram (data, barwidth, min, max)] computes histogram
// values as follows:
// - a value [v] of [data] contributes to the bar between [u] and
// [u+barwidth] if u <= v < u+barwidth
// - the [i]th bar is between [min+i*barwidth] and [min+(i+1)*barwidth]
// - [max] is used only to determine the number of bars. It MUST be greater
// than [d3.max(data)]
function histogram(data, barwidth, min, max) {
    const nbar = Math.floor((max-min)/barwidth)+1;
    let hist = new Array(nbar);
    for (let i=0; i<nbar; i++) {
	hist[i]=0;
    }

    data.forEach(function(v) {
	const ind = Math.floor((v-min)/barwidth);
	hist[ind] ++;
    });

    let n = data.length;
    for (let i=0; i<nbar; i++) {
	hist[i] = hist[i];
    }

    return hist;
}

// [plot_histogram(container, data, bandwidth, xscale, yscale)]
// draws the histogram computes with
// [histogram(data, barwidth, d3.min(data), d3.max(data)]
// in the html element [container].
//
// Axis are already defined on [container], using [xscale] and [yscale].
//
// In addition, this function returns the update function
// that redraw the bar if called with a new barwidth.
function plot_histogram(container, data, barwidth, xscale, yscale) {
    const min = d3.min(data),
	  max = d3.max(data);
    const hist = histogram(data, barwidth, min, max);
    const sample_nb = data.length;

    const print_value = function (v) {
	container.append("text")
	    .attr("class", "axisTitle")
	    .attr("id", "tt2")
	    .attr("x", wsvg-170)
	    .attr("y", 20)
	    .text("Value: "+d3.format("d")(v)+" / "+d3.format("d")(sample_nb));};

    const rects = container
	  .selectAll(".bar")
   	  .data(hist)
	  .enter();

    rects.append("rect")
	.attr("class", "bar")
	.attr("x", (v, i) => xscale(i*barwidth+min))
	.attr("width", (v, i) => xscale(barwidth)-xscale(0))
	.attr("y", (v, i) => yscale(v))
	.attr("height", (v, i) => innerH-yscale(v))
	.on("mouseover", print_value)
        .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());

    function update_hist(nbarwidth) {
	//compute new histograph values
	const nhist = histogram(data, nbarwidth, min, max);

	const rects = container
	      .selectAll(".bar")
   	      .data(nhist);

	rects.exit().remove();

	rects.enter().append("rect").attr("class", "bar")
	    .merge(rects)
	    .attr("x", (v, i) => xscale(i*nbarwidth+min))
	    .attr("width", (v, i) => xscale(nbarwidth)-xscale(0))
	    .attr("y", (v, i) => yscale(v))
	    .attr("height", (v, i) => innerH-yscale(v))
	    .on("mouseover", print_value)
            .on("mouseout", () => d3.selectAll("#tt2").transition().duration("50").remove());
    }
    return update_hist;
};

// [kernelDensityEstimation(data, bandwith] returns the function x -> kde(x)
//    for [data]. The kernel function used is a gaussian.
function kernelDensityEstimation(X, bandwidth) {
    //gaussian constante
    const a = 1/(2*bandwidth*bandwidth);
    const b = bandwidth * SQRT_2PI;
    const gaussianKernel =
	  function (x) {
	      return Math.exp(-a * x * x) / b;
	  };

    return function (x) {
        let i = 0;
        let sum = 0;
        for (i = 0; i < X.length; i++) {
	    sum += gaussianKernel(x - X[i])/X.length;
        }
	return sum ;
    };
}

// [plot_kde(container, data, bandwidth, xscale, yscale, x)] draws
// the kde function computes with [kde(data, bandwidth)]
// for the abscisse values defined by [x], in the html element
// [container].
//
// Axis are already defined on [container], using [xscale] and
// [yscale].
//
// In addition, this function returns the update function that
// redraw the curve if called with a new bandwidth.
function plot_kde(container, data, bandwidth, xscale, yscale, x) {
    const n = x.length;
    const kde = kernelDensityEstimation(data, bandwidth);
    const density = new Array(n);

    for (let i=0; i<n;i++){
	let tmp = x[i] ;
	density[i] = [tmp, kde(tmp)];
    }

    const graph = container
	  .append('g')
	  .append("path")
	  .attr("class", "mypath")
	  .datum(density)
	  .attr("fill", "#4ECDC4")
	  .attr("opacity", ".8")
	  .attr("stroke", "#292F36")
	  .attr("stroke-width", 1)
	  .attr("stroke-linejoin", "round")
	  .attr("d",
		d3.line()
		.curve(d3.curveBasis)
		.x(d => xscale(d[0]))
		.y(d => yscale(d[1])));

    function update_kde(nbandwidth) {
	let kde = kernelDensityEstimation(data, nbandwidth);

	for (let i=0; i<n;i++){
	    density[i][1] = kde(density[i][0]);
	}

	graph.datum(density)
	    .transition()
	    .duration(50)
	    .attr("d",
		  d3.line()
		  .curve(d3.curveBasis)
		  .x(d => xscale(d[0]))
		  .y(d => yscale(d[1])));
    };

    return update_kde;
};

};


var contents = null;
contents = {"xLabel":"run","yLabel":"monotonic-clock","series":[{"name":"insert/art","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":2000000000,"limit":3000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":277,"time":2064340987},"dataset":[{"x":1,"y":100950},{"x":2,"y":137890},{"x":3,"y":163859},{"x":4,"y":207662},{"x":5,"y":270601},{"x":6,"y":286911},{"x":7,"y":335243},{"x":8,"y":395776},{"x":9,"y":402759},{"x":10,"y":439118},{"x":11,"y":474805},{"x":12,"y":515312},{"x":13,"y":615050},{"x":14,"y":602146},{"x":15,"y":646930},{"x":16,"y":674933},{"x":17,"y":706191},{"x":18,"y":752048},{"x":19,"y":791994},{"x":20,"y":820487},{"x":21,"y":866033},{"x":22,"y":896741},{"x":23,"y":936627},{"x":24,"y":971672},{"x":25,"y":1007480},{"x":26,"y":1123329},{"x":27,"y":1175887},{"x":28,"y":1195916},{"x":29,"y":1247393},{"x":30,"y":1278932},{"x":31,"y":1314328},{"x":32,"y":1340658},{"x":33,"y":1377107},{"x":34,"y":1419477},{"x":35,"y":1462297},{"x":36,"y":1498866},{"x":37,"y":1551516},{"x":38,"y":1725244},{"x":39,"y":1732468},{"x":40,"y":1771230},{"x":41,"y":1807068},{"x":42,"y":1839178},{"x":43,"y":1904472},{"x":44,"y":1931723},{"x":45,"y":1954406},{"x":46,"y":1998799},{"x":47,"y":2034987},{"x":48,"y":2074913},{"x":49,"y":2121290},{"x":50,"y":2158982},{"x":51,"y":2247679},{"x":52,"y":2324563},{"x":53,"y":2334142},{"x":54,"y":2375610},{"x":55,"y":2364950},{"x":56,"y":2412059},{"x":57,"y":2452885},{"x":58,"y":2500245},{"x":59,"y":2537676},{"x":60,"y":2576689},{"x":61,"y":2624269},{"x":62,"y":2649387},{"x":63,"y":2688470},{"x":64,"y":2777649},{"x":65,"y":2839495},{"x":66,"y":2858671},{"x":67,"y":2904698},{"x":68,"y":2942770},{"x":69,"y":2986472},{"x":70,"y":3020447},{"x":71,"y":3045032},{"x":72,"y":3083986},{"x":73,"y":3119112},{"x":74,"y":3160550},{"x":75,"y":3203592},{"x":76,"y":3354136},{"x":77,"y":3378231},{"x":78,"y":3692122},{"x":79,"y":3504098},{"x":80,"y":3523345},{"x":81,"y":3547099},{"x":82,"y":3594077},{"x":83,"y":3635345},{"x":84,"y":3660474},{"x":85,"y":3705739},{"x":86,"y":3763607},{"x":87,"y":3805807},{"x":88,"y":3818120},{"x":89,"y":3899494},{"x":90,"y":3946172},{"x":91,"y":4002438},{"x":92,"y":4042283},{"x":93,"y":4061078},{"x":94,"y":4119369},{"x":95,"y":4181656},{"x":96,"y":4205801},{"x":97,"y":4222453},{"x":98,"y":4308756},{"x":99,"y":4303506},{"x":100,"y":4341628},{"x":101,"y":4395399},{"x":102,"y":4467294},{"x":103,"y":4518531},{"x":104,"y":4559939},{"x":105,"y":4596147},{"x":106,"y":4895793},{"x":107,"y":4678733},{"x":108,"y":4758754},{"x":109,"y":4689865},{"x":110,"y":4768272},{"x":111,"y":4769945},{"x":112,"y":4813407},{"x":113,"y":4838835},{"x":114,"y":4983047},{"x":115,"y":5019315},{"x":116,"y":5064741},{"x":117,"y":5087945},{"x":118,"y":5115878},{"x":119,"y":5162816},{"x":120,"y":5217529},{"x":121,"y":5248648},{"x":122,"y":5275669},{"x":123,"y":5344409},{"x":124,"y":5380417},{"x":125,"y":5433607},{"x":126,"y":5455218},{"x":127,"y":5538505},{"x":128,"y":5585253},{"x":129,"y":5604259},{"x":130,"y":5644986},{"x":131,"y":5681845},{"x":132,"y":5713795},{"x":133,"y":5757739},{"x":134,"y":5844291},{"x":135,"y":5827650},{"x":136,"y":5867896},{"x":137,"y":5924433},{"x":138,"y":5962755},{"x":139,"y":5992672},{"x":140,"y":6083463},{"x":141,"y":6146721},{"x":142,"y":6185586},{"x":143,"y":6211294},{"x":144,"y":6259594},{"x":145,"y":6279602},{"x":146,"y":6307475},{"x":147,"y":6356237},{"x":148,"y":6387166},{"x":149,"y":6442099},{"x":150,"y":6481303},{"x":151,"y":6537940},{"x":152,"y":6664749},{"x":153,"y":6684797},{"x":154,"y":6744079},{"x":155,"y":6763044},{"x":156,"y":6833657},{"x":157,"y":6840751},{"x":158,"y":6889754},{"x":159,"y":6920331},{"x":160,"y":6980875},{"x":161,"y":6984341},{"x":162,"y":7088137},{"x":163,"y":7102655},{"x":164,"y":7162388},{"x":165,"y":7260222},{"x":166,"y":7300097},{"x":167,"y":7312040},{"x":168,"y":7356353},{"x":169,"y":7407580},{"x":170,"y":7412058},{"x":171,"y":7491698},{"x":172,"y":7536884},{"x":173,"y":7564796},{"x":174,"y":7602577},{"x":175,"y":7652220},{"x":176,"y":7647562},{"x":177,"y":7698378},{"x":178,"y":7953028},{"x":179,"y":7854101},{"x":180,"y":7921068},{"x":181,"y":7940194},{"x":182,"y":7940645},{"x":183,"y":7979518},{"x":184,"y":8028491},{"x":185,"y":7997592},{"x":186,"y":8057284},{"x":187,"y":8122287},{"x":188,"y":8135483},{"x":189,"y":8171480},{"x":190,"y":8280516},{"x":191,"y":8348073},{"x":192,"y":8411713},{"x":193,"y":8440869},{"x":194,"y":8524376},{"x":195,"y":9220108},{"x":196,"y":8666023},{"x":197,"y":8701871},{"x":198,"y":8748548},{"x":199,"y":8773897},{"x":200,"y":8816597},{"x":202,"y":8885417},{"x":204,"y":9027164},{"x":206,"y":9097727},{"x":208,"y":9236458},{"x":210,"y":9271755},{"x":212,"y":9353981},{"x":214,"y":9426147},{"x":216,"y":9543799},{"x":218,"y":9636432},{"x":220,"y":9704301},{"x":222,"y":9704230},{"x":224,"y":9776036},{"x":226,"y":9862199},{"x":228,"y":10053740},{"x":230,"y":10099707},{"x":232,"y":10193664},{"x":234,"y":10391788},{"x":236,"y":10342605},{"x":238,"y":10467671},{"x":240,"y":10504930},{"x":242,"y":10672837},{"x":244,"y":10717352},{"x":246,"y":10806840},{"x":248,"y":10865932},{"x":250,"y":10921887},{"x":252,"y":11014011},{"x":254,"y":11123578},{"x":256,"y":11284200},{"x":258,"y":11292115},{"x":260,"y":11400049},{"x":262,"y":11492824},{"x":264,"y":11510768},{"x":266,"y":11670679},{"x":268,"y":11785986},{"x":270,"y":11842543},{"x":272,"y":11925229},{"x":274,"y":12108566},{"x":276,"y":12065454},{"x":278,"y":12139333},{"x":280,"y":12271111},{"x":282,"y":12350131},{"x":284,"y":12440381},{"x":286,"y":12499352},{"x":288,"y":12636551},{"x":290,"y":12722183},{"x":292,"y":12822842},{"x":294,"y":12959961},{"x":296,"y":12943449},{"x":298,"y":13035914},{"x":300,"y":13073024},{"x":303,"y":13200033},{"x":306,"y":13442521},{"x":309,"y":13549142},{"x":312,"y":13681010},{"x":315,"y":13751052},{"x":318,"y":13934037},{"x":321,"y":14086795},{"x":324,"y":14175493},{"x":327,"y":14300469},{"x":330,"y":14470088},{"x":333,"y":14563956},{"x":336,"y":14696615},{"x":339,"y":14880944},{"x":342,"y":15112239},{"x":345,"y":15191730},{"x":348,"y":15241964},{"x":351,"y":15433325},{"x":354,"y":15508898},{"x":357,"y":15704547},{"x":360,"y":15792483},{"x":363,"y":15888013},{"x":366,"y":16047363},{"x":369,"y":16915931},{"x":372,"y":16349683},{"x":375,"y":16467004},{"x":378,"y":16577322},{"x":381,"y":16774735}],"kde":[39875,39454,39294,39465,39404,39554,40065,39464,39635,39704,39795,40016,94839,40136,40245,44183,39895,40176,40096,40106,39725,39734,39755,40236,40176,104757,39805,39565,39685,39966,39925,44353,39745,39785,39986,39615,39535,135756,40075,39525,39525,39775,39685,40226,39615,39565,39435,39775,39675,39935,84059,39755,39365,39424,39675,39665,39986,39555,41899,39565,39906,39494,158909,40296,39374,39755,39565,39475,39534,40115,39554,39404,39644,39865,39765,81784,39545,39374,39384,43963,39554,40105,39424,39545,39745,39544,40005,39876,85501,39364,39375,39655,39615,39725,40066,39765,39644,39534,39735,39585,152127,40056,39545,39505,39685,39515,40246,39485,39445,39384,39654,39634,39935,83388,39685,40988,40817,40536,39905,40036,39815,39885,40757,43412,39815,173107,40186,39565,39695,39865,39785,40086,40387,39835,39555,39805,39935,39975,80332,39865,39404,39775,40817,43222,40176,39465,39775,40006,39836,39915,146025,40437,39885,39544,40005,44735,39655,41659,39735,39705,39645,39785,39685,80632,40056,39625,39555,39354,39534,39935,39535,39465,39595,40476,39785,39946,104788,39615,39665,39575,39845,39314,41709,39505,39605,39745,44313,39764,136587,39895,39625,39684,39755,39555,39485,39825,39595,39715,39624,39955,39936,81123,39775,39424,39484,39594,39835,43792,39274,39424,39454,39705,39584,141356,40336,39665,39385,39635,39695,39835,40216,39344,39405,39655,39755,39344,88838,42380,39505,39455,39505,39565,40216,39695,39595,39505,39425,39875,40185,107823,51076,44885,40777,40246,39795,40176,39835,40136,39865,40737,41979,176523,41488,39685,39624,39825,39745,39675,40165,39695,39564,39825,39735,39634,84740,40326,39735,39654,39614,43642,40336,39314,39675,39715,40125,39675,155724,45566,40537,39855,39935,39805,39755,40056,39755,39515,39855,39725,39945,79179,43451,39564,39464,39514,39455,40026,39675,39675,39604,39714,40196,40086,96432,40046,39575,39775,43933,39795,40637,40587,39895,40225,42360,40156,140195,40677,39515,39825,40006,39745,40496,40006,39835,39805,39965,40035,40145,90541,40076,39895,39815,48432,43602,44303,41287,39775,39675,40065,39936,157457,40666,39835,39735,39785,39785,40016,40286,39855,44063,39815,39885,39464,80561,45085,39795,39224,39925,39364,40326,39354,39535,39966,39645,39966,40076,95069,39935,39415,39715,39535,39645,40206,39905,39525,39645,39845,44644,158730,40376,39765,39675,39655,39875,40276,39475,39545,41478,39826,39755,39926,74671,39805,39564,39544,39735,39845,44675,39745,39425,39444,39625,39464,143490,40236,39555,39535,39545,39494,39875,40196,39564,39845,40056,39725,39715,100419,40717,46989,39354,39534,39835,40106,39555,39625,39755,39554,39715,39765,77146,39485,39564,39865,39525,39625,40095,39455,39595,39555,39845,40356,133362,39795,39495,39715,39795,39785,40206,39644,39554,39554,39985,39565,40036,119205,39704,39635,39424,39664,39815,40046,43973,39855,39585,39765,39654,135115,40035,39324,39465,39715,39535,39906,40246,39525,39505,43903,39855,40185,81113,40116,40356,42971,39504,39725,40306,39765,39885,39976,39945,40055,133702,40476,39685,39815,39845,40036,39785,42140,39675,40106,39896,39855,40967,99538,40076,39865,39675,39875,39624,40386,39705,39694,39855,40076,39956,39825,180069,39966,39715,39425,39955,39645,44714,39474,39324,39354,39905,39876,129334,40166,39495,39966,39805,39434,39545,39725,39705,39454,39725,39675,40126,97424,42420,39684,40045,39594,39434,39925,39525,39505,39655,39905,39775,153019,40256,39335,39464,39825,39906,39755,39675,39765,39524,40055,44113,39535,68299,39695,39374,39505,39595,39755,40406,39805,39294,39615,39795,39885,39775,112702,39965,39545,39495,39685,39614,39845,42470,39444,39585,40026,39675,138230,39995,39335,39404,39885,39906,39975,41177,39364,39555,39966,40156,39785,70893,39855,39545,45406,39705,39385,40005,39294,39464,39534,39875,39745,150844,40225,39374,39565,39675,39744,39444,39885,39695,39545,39685,39795,40246,90961,39765,39485,39304,39584,39604,40055,39684,39474,39815,39815,39755,39845,95280,39915,39655,39485,39625,39525,40156,39755,42279,39655,39645,39475,138291,40136,39455,40026,39705,39425,39945,39634,39725,39494,39925,39856,44263,93947,40206,39704,39775,44284,39545,39855,39795,39945,39905,40056,39755,152307,40397,39675,39955,39895,40056,39996,41789,39675,39664,40085,40065,40156,76073,39945,39525,39615,40175,39935,40547,39845,39534,39855,39956,40096,40095,104647,39845,39885,39655,44043,39755,39815,39715,39605,42620,39785,39614,138661,40075,39444,40006,39735,39554,40356,39535,39695,39905,39875,39625,39795,94198,39965,39534,39654,40476,43021,39795,39535,39425,39775,40096,39605,137028,40016,39605,39605,39805,39544,39875,39886,39585,39675,39715,39685,39895,96272,39745,39434,39395,39565,39745,39926,39344,39534,39895,39655,39936,39725,75823,39274,39254,39775,40196,40256,40517,40056,40005,40276,41288,43693,148530,40506,39926,40015,39835,40146,40647,40176,40176,40115,40306,40316,40356,118423,40416,40236,40176,40506,44624,40857,40276,40246,40045,40777,40496,145895,42971,40556,40075,43422,40747,40567,40677,40246,40155,40626,41618,40507,72988,42621,39996,40346,40166,40566,40847,40256,40236,40647,40336,40546,161925,40787,40065,40085,40135,40336,40356,40716,40296,41308,44303,40296,40286,78067,40346,40336,40546,40286,40526,40947,40556,40136,40096,40226,40306,40446,89709,40176,39926,40296,40536,44244,40396,39925,40016,40036,40496,40526,149622,40567,40076,40246,40416,40196,40276,40266,40065,44133,40497,40486,40466,82035,44023,40176,40156,40196,40457,40757,40286,40376,40557,40557,40496,152848,40697,40205,40075,40486,44614,40246,42240,40186,39795,44544,40106,40046,77426,39975,39996,40076,40136,40206,40657,39916,40096,40156,40186,40116,40356,94328,40106,39885,40246,40587,41037,43842,40025,40095,40256,40266,40407,148630,40536,39925,40537,40176,40136,40547,40517,40336,40176,40506,40396,40496,92354,43763,40016,39895,39825,40276,40637,40076,40336,40406,40336,40446,145514,40587,40006,40036,40286,40236,40185,40506,40185,39975,44423,40526,40106,78828,40065,40205,39875,40256,40015,40456,40086,40056,40336,40316,40366,40346,94348,40687,40026,40096,40106,40126,43432,39945,40056,40226,39985,40336,140545,40286,40196,40095,39905,40046],"result":{"estimate":43847.97135121757,"r_square":0.999654287577}},{"name":"insert/hashtbl","description":{"start":1,"sampling":1.01,"stabilize":true,"quota":2000000000,"limit":3000,"instances":["minor-allocated","major-allocated","monotonic-clock"],"samples":21,"time":4008098225},"dataset":[{"x":1,"y":8611931},{"x":2,"y":17168968},{"x":3,"y":25718382},{"x":4,"y":34338278},{"x":5,"y":42874426},{"x":6,"y":51779229},{"x":7,"y":60361112},{"x":8,"y":68863557},{"x":9,"y":77390609},{"x":10,"y":85923641},{"x":11,"y":94441725},{"x":12,"y":102971391},{"x":13,"y":111803227},{"x":14,"y":120366937},{"x":15,"y":128874641},{"x":16,"y":137458640},{"x":17,"y":145962236},{"x":18,"y":154982307},{"x":19,"y":163530659},{"x":20,"y":171843175},{"x":21,"y":180084638}],"kde":[8409990,8409018,8383079,8399290,8400412,8356760,8350278,8347232,8320592,8353283,8326102,8331332,8331392,8309260,8335180,8316023,8316875,8338956,8322034,8370466,8540196,8342033,9959783,8327284,8323317,8323818,8329449,8315031,8334888,8321724,8334317,8343214,8326613,8323146,8333616,8320672,8326482,8322786,8339908,8366078,8356399,8325681,8328837,8340510,8349667,8307217,8332975,8345658,8328898,8343094,8342984,8328296,8338516,8317496,8324299,8336402,8325221,8311214,8317176,8333135,8328406,8329438,8347142,8345448,8309561,9834967,8334578,8328307,8304952,8319720,8308328,8312236,8323107,8326363,8321063,8317346,8314901,8330260,8310332,8338235,8329849,8320943,8313238,8333346,8355869,8631689,8362100,8349567,8339347,8336442,8329628,8311354,8314511,8315272,8306906,8337804,8326363,8318328,8323277,8314730,8323146,8339037,8357852,8319790,8318288,8334057,8332434,8341692,9998035,8322124,8309551,8318197,8308078,8339477,8336171,8336191,8341962,8326804,8322846,8318578,8329418,8322856,8348815,8359665,8340168,8332204,8341130,8324609,8323106,8320722,8344266,8350539,8343375,8320441,8326723,8319771,8320712,8318408,8330571,8342794,8315723,8331993,8319810,8346972,8309381,8324770,8325371,8314531,8316574,8324148,8325922,9905852,8329889,8313498,8322315,8318437,8339437,8309451,8327295,8335951,8318047,8331302,8323728,8324329,8320101,8300664,8333476,8330541,8318428,8337604,8325832,8323507,8309271,8341652,8332414,8334218,8339127,8327284,8324038,8327084,8320111,8317716,8324489,8318598,8314650,8343164,8308829,8325230,8328927,8320342,8322826,8312276,8325631,8315863,9830479,8321072,8323286,8326703,8352943,8343304,8362200,8310883,8332885,8322495,8330230,8334458,8325121,8334188,8327795,8338095,8330711,8330090,8360848,8344036,8349496,8328948,8337393,8332515,8328236,8316073,8326463,8332585,8307888,8342343,8304010,8311575,8322635,8323628,8331683,8337514,8315062,8327755,8329288,8310523,8327725,8345569,8313689,9924086,8329900],"result":{"estimate":8593781.125943823,"r_square":0.9999915808465605}}]}


if (contents == null)
    d3.json("outputs.json", render);
else
    render(contents);
}

  </script>

</body>
</html>
